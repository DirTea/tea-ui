import{d as Ee,K as gt,aq as Os,k as Vs,w as ke,a0 as me,aR as wo,s as ge,c as oe,o as Ge,g as he,f as se,r as ze,Q as Xe,j as I,a as Fo,b as Co,Y as fe,S as _t,i as ve,p as Jt,a1 as _o,l as hn,q as Me,O as bo,H as De,ac as Vt,n as Ie,J as Hs,h as Se,aS as xo,e as at,v as En,X as Ht,L as bi,a2 as So,aT as Bo,aU as ce,P as bt,aj as Lt,ai as ye,a5 as No,R as Ls,V as Ao,W as vt,ap as Ke,t as Do,x as $o,_ as qs,aP as Mo}from"./chunks/framework.KxLG7h8E.js";function Dn(e){return Vs()?(hn(e),!0):!1}function Ze(e){return typeof e=="function"?e():I(e)}const Io=typeof window<"u"&&typeof document<"u",To=e=>typeof e<"u",Po=Object.prototype.toString,Ro=e=>Po.call(e)==="[object Object]",zo=()=>{};function Oo(e,t){function n(...i){return new Promise((s,a)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(s).catch(a)})}return n}const Ys=e=>e();function Vo(e=Ys){const t=ge(!0);function n(){t.value=!1}function i(){t.value=!0}const s=(...a)=>{t.value&&e(...a)};return{isActive:Do(t),pause:n,resume:i,eventFilter:s}}function Hi(e,t=!1,n="Timeout"){return new Promise((i,s)=>{setTimeout(t?()=>s(n):i,e)})}function Ho(e,t,n={}){const{eventFilter:i=Ys,...s}=n;return ke(e,Oo(i,t),s)}function kt(e,t,n={}){const{eventFilter:i,...s}=n,{eventFilter:a,pause:o,resume:l,isActive:r}=Vo(i);return{stop:Ho(e,t,{...s,eventFilter:a}),pause:o,resume:l,isActive:r}}function Lo(e,t={}){if(!bi(e))return So(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const i in e.value)n[i]=Bo(()=>({get(){return e.value[i]},set(s){var a;if((a=Ze(t.replaceRef))!=null?a:!0)if(Array.isArray(e.value)){const l=[...e.value];l[i]=s,e.value=l}else{const l={...e.value,[i]:s};Object.setPrototypeOf(l,Object.getPrototypeOf(e.value)),e.value=l}else e.value[i]=s}}));return n}function oi(e,t=!1){function n(c,{flush:d="sync",deep:p=!1,timeout:b,throwOnTimeout:w}={}){let C=null;const S=[new Promise(m=>{C=ke(e,k=>{c(k)!==t&&(C==null||C(),m(k))},{flush:d,deep:p,immediate:!0})})];return b!=null&&S.push(Hi(b,w).then(()=>Ze(e)).finally(()=>C==null?void 0:C())),Promise.race(S)}function i(c,d){if(!bi(c))return n(k=>k===c,d);const{flush:p="sync",deep:b=!1,timeout:w,throwOnTimeout:C}=d??{};let x=null;const m=[new Promise(k=>{x=ke([e,c],([N,$])=>{t!==(N===$)&&(x==null||x(),k(N))},{flush:p,deep:b,immediate:!0})})];return w!=null&&m.push(Hi(w,C).then(()=>Ze(e)).finally(()=>(x==null||x(),Ze(e)))),Promise.race(m)}function s(c){return n(d=>!!d,c)}function a(c){return i(null,c)}function o(c){return i(void 0,c)}function l(c){return n(Number.isNaN,c)}function r(c,d){return n(p=>{const b=Array.from(p);return b.includes(c)||b.includes(Ze(c))},d)}function u(c){return h(1,c)}function h(c=1,d){let p=-1;return n(()=>(p+=1,p>=c),d)}return Array.isArray(Ze(e))?{toMatch:n,toContains:r,changed:u,changedTimes:h,get not(){return oi(e,!t)}}:{toMatch:n,toBe:i,toBeTruthy:s,toBeNull:a,toBeNaN:l,toBeUndefined:o,changed:u,changedTimes:h,get not(){return oi(e,!t)}}}function li(e){return oi(e)}function qo(e){var t;const n=Ze(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Xs=Io?window:void 0;function Gs(...e){let t,n,i,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,s]=e,t=Xs):[t,n,i,s]=e,!t)return zo;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const a=[],o=()=>{a.forEach(h=>h()),a.length=0},l=(h,c,d,p)=>(h.addEventListener(c,d,p),()=>h.removeEventListener(c,d,p)),r=ke(()=>[qo(t),Ze(s)],([h,c])=>{if(o(),!h)return;const d=Ro(c)?{...c}:c;a.push(...n.flatMap(p=>i.map(b=>l(h,p,b,d))))},{immediate:!0,flush:"post"}),u=()=>{r(),o()};return Dn(u),u}function Yo(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function Li(...e){let t,n,i={};e.length===3?(t=e[0],n=e[1],i=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],i=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:s=Xs,eventName:a="keydown",passive:o=!1,dedupe:l=!1}=i,r=Yo(t);return Gs(s,a,h=>{h.repeat&&Ze(l)||r(h)&&n(h)},o)}function Xo(e){return JSON.parse(JSON.stringify(e))}function Gn(e,t,n,i={}){var s,a,o;const{clone:l=!1,passive:r=!1,eventName:u,deep:h=!1,defaultValue:c,shouldEmit:d}=i,p=Jt(),b=n||(p==null?void 0:p.emit)||((s=p==null?void 0:p.$emit)==null?void 0:s.bind(p))||((o=(a=p==null?void 0:p.proxy)==null?void 0:a.$emit)==null?void 0:o.bind(p==null?void 0:p.proxy));let w=u;t||(t="modelValue"),w=w||`update:${t.toString()}`;const C=m=>l?typeof l=="function"?l(m):Xo(m):m,x=()=>To(e[t])?C(e[t]):c,S=m=>{d?d(m)&&b(w,m):b(w,m)};if(r){const m=x(),k=ge(m);let N=!1;return ke(()=>e[t],$=>{N||(N=!0,k.value=C($),Me(()=>N=!1))}),ke(k,$=>{!N&&($!==e[t]||h)&&S($)},{deep:h}),k}else return oe({get(){return x()},set(m){S(m)}})}var Go={value:()=>{}};function $n(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new cn(n)}function cn(e){this._=e}function Uo(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");if(s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}cn.prototype=$n.prototype={constructor:cn,on:function(e,t){var n=this._,i=Uo(e+"",n),s,a=-1,o=i.length;if(arguments.length<2){for(;++a<o;)if((s=(e=i[a]).type)&&(s=Wo(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(s=(e=i[a]).type)n[s]=qi(n[s],e.name,t);else if(t==null)for(s in n)n[s]=qi(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new cn(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),i=0,s,a;i<s;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,s=a.length;i<s;++i)a[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],s=0,a=i.length;s<a;++s)i[s].value.apply(t,n)}};function Wo(e,t){for(var n=0,i=e.length,s;n<i;++n)if((s=e[n]).name===t)return s.value}function qi(e,t,n){for(var i=0,s=e.length;i<s;++i)if(e[i].name===t){e[i]=Go,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var ri="http://www.w3.org/1999/xhtml";const Yi={svg:"http://www.w3.org/2000/svg",xhtml:ri,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Yi.hasOwnProperty(t)?{space:Yi[t],local:e}:e}function Zo(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ri&&t.documentElement.namespaceURI===ri?t.createElement(e):t.createElementNS(n,e)}}function Ko(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Us(e){var t=Mn(e);return(t.local?Ko:Zo)(t)}function Jo(){}function xi(e){return e==null?Jo:function(){return this.querySelector(e)}}function Qo(e){typeof e!="function"&&(e=xi(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=i[s]=new Array(o),r,u,h=0;h<o;++h)(r=a[h])&&(u=e.call(r,r.__data__,h,a))&&("__data__"in r&&(u.__data__=r.__data__),l[h]=u);return new $e(i,this._parents)}function jo(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function el(){return[]}function Ws(e){return e==null?el:function(){return this.querySelectorAll(e)}}function tl(e){return function(){return jo(e.apply(this,arguments))}}function nl(e){typeof e=="function"?e=tl(e):e=Ws(e);for(var t=this._groups,n=t.length,i=[],s=[],a=0;a<n;++a)for(var o=t[a],l=o.length,r,u=0;u<l;++u)(r=o[u])&&(i.push(e.call(r,r.__data__,u,o)),s.push(r));return new $e(i,s)}function Zs(e){return function(){return this.matches(e)}}function Ks(e){return function(t){return t.matches(e)}}var il=Array.prototype.find;function sl(e){return function(){return il.call(this.children,e)}}function al(){return this.firstElementChild}function ol(e){return this.select(e==null?al:sl(typeof e=="function"?e:Ks(e)))}var ll=Array.prototype.filter;function rl(){return Array.from(this.children)}function ul(e){return function(){return ll.call(this.children,e)}}function hl(e){return this.selectAll(e==null?rl:ul(typeof e=="function"?e:Ks(e)))}function cl(e){typeof e!="function"&&(e=Zs(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=i[s]=[],r,u=0;u<o;++u)(r=a[u])&&e.call(r,r.__data__,u,a)&&l.push(r);return new $e(i,this._parents)}function Js(e){return new Array(e.length)}function dl(){return new $e(this._enter||this._groups.map(Js),this._parents)}function yn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}yn.prototype={constructor:yn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function pl(e){return function(){return e}}function fl(e,t,n,i,s,a){for(var o=0,l,r=t.length,u=a.length;o<u;++o)(l=t[o])?(l.__data__=a[o],i[o]=l):n[o]=new yn(e,a[o]);for(;o<r;++o)(l=t[o])&&(s[o]=l)}function gl(e,t,n,i,s,a,o){var l,r,u=new Map,h=t.length,c=a.length,d=new Array(h),p;for(l=0;l<h;++l)(r=t[l])&&(d[l]=p=o.call(r,r.__data__,l,t)+"",u.has(p)?s[l]=r:u.set(p,r));for(l=0;l<c;++l)p=o.call(e,a[l],l,a)+"",(r=u.get(p))?(i[l]=r,r.__data__=a[l],u.delete(p)):n[l]=new yn(e,a[l]);for(l=0;l<h;++l)(r=t[l])&&u.get(d[l])===r&&(s[l]=r)}function kl(e){return e.__data__}function El(e,t){if(!arguments.length)return Array.from(this,kl);var n=t?gl:fl,i=this._parents,s=this._groups;typeof e!="function"&&(e=pl(e));for(var a=s.length,o=new Array(a),l=new Array(a),r=new Array(a),u=0;u<a;++u){var h=i[u],c=s[u],d=c.length,p=yl(e.call(h,h&&h.__data__,u,i)),b=p.length,w=l[u]=new Array(b),C=o[u]=new Array(b),x=r[u]=new Array(d);n(h,c,w,C,x,p,t);for(var S=0,m=0,k,N;S<b;++S)if(k=w[S]){for(S>=m&&(m=S+1);!(N=C[m])&&++m<b;);k._next=N||null}}return o=new $e(o,i),o._enter=l,o._exit=r,o}function yl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vl(){return new $e(this._exit||this._groups.map(Js),this._parents)}function ml(e,t,n){var i=this.enter(),s=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?a.remove():n(a),i&&s?i.merge(s).order():s}function wl(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,s=n.length,a=i.length,o=Math.min(s,a),l=new Array(s),r=0;r<o;++r)for(var u=n[r],h=i[r],c=u.length,d=l[r]=new Array(c),p,b=0;b<c;++b)(p=u[b]||h[b])&&(d[b]=p);for(;r<s;++r)l[r]=n[r];return new $e(l,this._parents)}function Fl(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],s=i.length-1,a=i[s],o;--s>=0;)(o=i[s])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Cl(e){e||(e=_l);function t(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var n=this._groups,i=n.length,s=new Array(i),a=0;a<i;++a){for(var o=n[a],l=o.length,r=s[a]=new Array(l),u,h=0;h<l;++h)(u=o[h])&&(r[h]=u);r.sort(t)}return new $e(s,this._parents).order()}function _l(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function bl(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function xl(){return Array.from(this)}function Sl(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,a=i.length;s<a;++s){var o=i[s];if(o)return o}return null}function Bl(){let e=0;for(const t of this)++e;return e}function Nl(){return!this.node()}function Al(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var s=t[n],a=0,o=s.length,l;a<o;++a)(l=s[a])&&e.call(l,l.__data__,a,s);return this}function Dl(e){return function(){this.removeAttribute(e)}}function $l(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ml(e,t){return function(){this.setAttribute(e,t)}}function Il(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Tl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Pl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Rl(e,t){var n=Mn(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?$l:Dl:typeof t=="function"?n.local?Pl:Tl:n.local?Il:Ml)(n,t))}function Qs(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function zl(e){return function(){this.style.removeProperty(e)}}function Ol(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Vl(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Hl(e,t,n){return arguments.length>1?this.each((t==null?zl:typeof t=="function"?Vl:Ol)(e,t,n??"")):xt(this.node(),e)}function xt(e,t){return e.style.getPropertyValue(t)||Qs(e).getComputedStyle(e,null).getPropertyValue(t)}function Ll(e){return function(){delete this[e]}}function ql(e,t){return function(){this[e]=t}}function Yl(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Xl(e,t){return arguments.length>1?this.each((t==null?Ll:typeof t=="function"?Yl:ql)(e,t)):this.node()[e]}function js(e){return e.trim().split(/^|\s+/)}function Si(e){return e.classList||new ea(e)}function ea(e){this._node=e,this._names=js(e.getAttribute("class")||"")}ea.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ta(e,t){for(var n=Si(e),i=-1,s=t.length;++i<s;)n.add(t[i])}function na(e,t){for(var n=Si(e),i=-1,s=t.length;++i<s;)n.remove(t[i])}function Gl(e){return function(){ta(this,e)}}function Ul(e){return function(){na(this,e)}}function Wl(e,t){return function(){(t.apply(this,arguments)?ta:na)(this,e)}}function Zl(e,t){var n=js(e+"");if(arguments.length<2){for(var i=Si(this.node()),s=-1,a=n.length;++s<a;)if(!i.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?Wl:t?Gl:Ul)(n,t))}function Kl(){this.textContent=""}function Jl(e){return function(){this.textContent=e}}function Ql(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function jl(e){return arguments.length?this.each(e==null?Kl:(typeof e=="function"?Ql:Jl)(e)):this.node().textContent}function er(){this.innerHTML=""}function tr(e){return function(){this.innerHTML=e}}function nr(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function ir(e){return arguments.length?this.each(e==null?er:(typeof e=="function"?nr:tr)(e)):this.node().innerHTML}function sr(){this.nextSibling&&this.parentNode.appendChild(this)}function ar(){return this.each(sr)}function or(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lr(){return this.each(or)}function rr(e){var t=typeof e=="function"?e:Us(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ur(){return null}function hr(e,t){var n=typeof e=="function"?e:Us(e),i=t==null?ur:typeof t=="function"?t:xi(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function cr(){var e=this.parentNode;e&&e.removeChild(this)}function dr(){return this.each(cr)}function pr(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fr(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function gr(e){return this.select(e?fr:pr)}function kr(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Er(e){return function(t){e.call(this,t,this.__data__)}}function yr(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function vr(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,s=t.length,a;n<s;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function mr(e,t,n){return function(){var i=this.__on,s,a=Er(t);if(i){for(var o=0,l=i.length;o<l;++o)if((s=i[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=t;return}}this.addEventListener(e.type,a,n),s={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(s):this.__on=[s]}}function wr(e,t,n){var i=yr(e+""),s,a=i.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var r=0,u=l.length,h;r<u;++r)for(s=0,h=l[r];s<a;++s)if((o=i[s]).type===h.type&&o.name===h.name)return h.value}return}for(l=t?mr:vr,s=0;s<a;++s)this.each(l(i[s],t,n));return this}function ia(e,t,n){var i=Qs(e),s=i.CustomEvent;typeof s=="function"?s=new s(t,n):(s=i.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function Fr(e,t){return function(){return ia(this,e,t)}}function Cr(e,t){return function(){return ia(this,e,t.apply(this,arguments))}}function _r(e,t){return this.each((typeof t=="function"?Cr:Fr)(e,t))}function*br(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,a=i.length,o;s<a;++s)(o=i[s])&&(yield o)}var sa=[null];function $e(e,t){this._groups=e,this._parents=t}function Qt(){return new $e([[document.documentElement]],sa)}function xr(){return this}$e.prototype=Qt.prototype={constructor:$e,select:Qo,selectAll:nl,selectChild:ol,selectChildren:hl,filter:cl,data:El,enter:dl,exit:vl,join:ml,merge:wl,selection:xr,order:Fl,sort:Cl,call:bl,nodes:xl,node:Sl,size:Bl,empty:Nl,each:Al,attr:Rl,style:Hl,property:Xl,classed:Zl,text:jl,html:ir,raise:ar,lower:lr,append:rr,insert:hr,remove:dr,clone:gr,datum:kr,on:wr,dispatch:_r,[Symbol.iterator]:br};function Pe(e){return typeof e=="string"?new $e([[document.querySelector(e)]],[document.documentElement]):new $e([[e]],sa)}function Sr(e){let t;for(;t=e.sourceEvent;)e=t;return e}function He(e,t){if(e=Sr(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const Br={passive:!1},qt={capture:!0,passive:!1};function Un(e){e.stopImmediatePropagation()}function mt(e){e.preventDefault(),e.stopImmediatePropagation()}function aa(e){var t=e.document.documentElement,n=Pe(e).on("dragstart.drag",mt,qt);"onselectstart"in t?n.on("selectstart.drag",mt,qt):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function oa(e,t){var n=e.document.documentElement,i=Pe(e).on("dragstart.drag",null);t&&(i.on("click.drag",mt,qt),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const en=e=>()=>e;function ui(e,{sourceEvent:t,subject:n,target:i,identifier:s,active:a,x:o,y:l,dx:r,dy:u,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:r,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:h}})}ui.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Nr(e){return!e.ctrlKey&&!e.button}function Ar(){return this.parentNode}function Dr(e,t){return t??{x:e.x,y:e.y}}function $r(){return navigator.maxTouchPoints||"ontouchstart"in this}function Mr(){var e=Nr,t=Ar,n=Dr,i=$r,s={},a=$n("start","drag","end"),o=0,l,r,u,h,c=0;function d(k){k.on("mousedown.drag",p).filter(i).on("touchstart.drag",C).on("touchmove.drag",x,Br).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(k,N){if(!(h||!e.call(this,k,N))){var $=m(this,t.call(this,k,N),k,N,"mouse");$&&(Pe(k.view).on("mousemove.drag",b,qt).on("mouseup.drag",w,qt),aa(k.view),Un(k),u=!1,l=k.clientX,r=k.clientY,$("start",k))}}function b(k){if(mt(k),!u){var N=k.clientX-l,$=k.clientY-r;u=N*N+$*$>c}s.mouse("drag",k)}function w(k){Pe(k.view).on("mousemove.drag mouseup.drag",null),oa(k.view,u),mt(k),s.mouse("end",k)}function C(k,N){if(e.call(this,k,N)){var $=k.changedTouches,T=t.call(this,k,N),P=$.length,G,O;for(G=0;G<P;++G)(O=m(this,T,k,N,$[G].identifier,$[G]))&&(Un(k),O("start",k,$[G]))}}function x(k){var N=k.changedTouches,$=N.length,T,P;for(T=0;T<$;++T)(P=s[N[T].identifier])&&(mt(k),P("drag",k,N[T]))}function S(k){var N=k.changedTouches,$=N.length,T,P;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),T=0;T<$;++T)(P=s[N[T].identifier])&&(Un(k),P("end",k,N[T]))}function m(k,N,$,T,P,G){var O=a.copy(),B=He(G||$,N),F,X,E;if((E=n.call(k,new ui("beforestart",{sourceEvent:$,target:d,identifier:P,active:o,x:B[0],y:B[1],dx:0,dy:0,dispatch:O}),T))!=null)return F=E.x-B[0]||0,X=E.y-B[1]||0,function A(_,M,R){var L=B,V;switch(_){case"start":s[P]=A,V=o++;break;case"end":delete s[P],--o;case"drag":B=He(R||M,N),V=o;break}O.call(_,k,new ui(_,{sourceEvent:M,subject:E,target:d,identifier:P,active:V,x:B[0]+F,y:B[1]+X,dx:B[0]-L[0],dy:B[1]-L[1],dispatch:O}),T)}}return d.filter=function(k){return arguments.length?(e=typeof k=="function"?k:en(!!k),d):e},d.container=function(k){return arguments.length?(t=typeof k=="function"?k:en(k),d):t},d.subject=function(k){return arguments.length?(n=typeof k=="function"?k:en(k),d):n},d.touchable=function(k){return arguments.length?(i=typeof k=="function"?k:en(!!k),d):i},d.on=function(){var k=a.on.apply(a,arguments);return k===a?d:k},d.clickDistance=function(k){return arguments.length?(c=(k=+k)*k,d):Math.sqrt(c)},d}function Bi(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function la(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function jt(){}var Yt=.7,vn=1/Yt,wt="\\s*([+-]?\\d+)\\s*",Xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ye="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ir=/^#([0-9a-f]{3,8})$/,Tr=new RegExp(`^rgb\\(${wt},${wt},${wt}\\)$`),Pr=new RegExp(`^rgb\\(${Ye},${Ye},${Ye}\\)$`),Rr=new RegExp(`^rgba\\(${wt},${wt},${wt},${Xt}\\)$`),zr=new RegExp(`^rgba\\(${Ye},${Ye},${Ye},${Xt}\\)$`),Or=new RegExp(`^hsl\\(${Xt},${Ye},${Ye}\\)$`),Vr=new RegExp(`^hsla\\(${Xt},${Ye},${Ye},${Xt}\\)$`),Xi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bi(jt,pt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Gi,formatHex:Gi,formatHex8:Hr,formatHsl:Lr,formatRgb:Ui,toString:Ui});function Gi(){return this.rgb().formatHex()}function Hr(){return this.rgb().formatHex8()}function Lr(){return ra(this).formatHsl()}function Ui(){return this.rgb().formatRgb()}function pt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ir.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Wi(t):n===3?new Be(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?tn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?tn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Tr.exec(e))?new Be(t[1],t[2],t[3],1):(t=Pr.exec(e))?new Be(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Rr.exec(e))?tn(t[1],t[2],t[3],t[4]):(t=zr.exec(e))?tn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Or.exec(e))?Ji(t[1],t[2]/100,t[3]/100,1):(t=Vr.exec(e))?Ji(t[1],t[2]/100,t[3]/100,t[4]):Xi.hasOwnProperty(e)?Wi(Xi[e]):e==="transparent"?new Be(NaN,NaN,NaN,0):null}function Wi(e){return new Be(e>>16&255,e>>8&255,e&255,1)}function tn(e,t,n,i){return i<=0&&(e=t=n=NaN),new Be(e,t,n,i)}function qr(e){return e instanceof jt||(e=pt(e)),e?(e=e.rgb(),new Be(e.r,e.g,e.b,e.opacity)):new Be}function hi(e,t,n,i){return arguments.length===1?qr(e):new Be(e,t,n,i??1)}function Be(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Bi(Be,hi,la(jt,{brighter(e){return e=e==null?vn:Math.pow(vn,e),new Be(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yt:Math.pow(Yt,e),new Be(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Be(ct(this.r),ct(this.g),ct(this.b),mn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zi,formatHex:Zi,formatHex8:Yr,formatRgb:Ki,toString:Ki}));function Zi(){return`#${ht(this.r)}${ht(this.g)}${ht(this.b)}`}function Yr(){return`#${ht(this.r)}${ht(this.g)}${ht(this.b)}${ht((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ki(){const e=mn(this.opacity);return`${e===1?"rgb(":"rgba("}${ct(this.r)}, ${ct(this.g)}, ${ct(this.b)}${e===1?")":`, ${e})`}`}function mn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ct(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ht(e){return e=ct(e),(e<16?"0":"")+e.toString(16)}function Ji(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Re(e,t,n,i)}function ra(e){if(e instanceof Re)return new Re(e.h,e.s,e.l,e.opacity);if(e instanceof jt||(e=pt(e)),!e)return new Re;if(e instanceof Re)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(t,n,i),a=Math.max(t,n,i),o=NaN,l=a-s,r=(a+s)/2;return l?(t===a?o=(n-i)/l+(n<i)*6:n===a?o=(i-t)/l+2:o=(t-n)/l+4,l/=r<.5?a+s:2-a-s,o*=60):l=r>0&&r<1?0:o,new Re(o,l,r,e.opacity)}function Xr(e,t,n,i){return arguments.length===1?ra(e):new Re(e,t,n,i??1)}function Re(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Bi(Re,Xr,la(jt,{brighter(e){return e=e==null?vn:Math.pow(vn,e),new Re(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yt:Math.pow(Yt,e),new Re(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,s=2*n-i;return new Be(Wn(e>=240?e-240:e+120,s,i),Wn(e,s,i),Wn(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new Re(Qi(this.h),nn(this.s),nn(this.l),mn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mn(this.opacity);return`${e===1?"hsl(":"hsla("}${Qi(this.h)}, ${nn(this.s)*100}%, ${nn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Qi(e){return e=(e||0)%360,e<0?e+360:e}function nn(e){return Math.max(0,Math.min(1,e||0))}function Wn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ni=e=>()=>e;function Gr(e,t){return function(n){return e+n*t}}function Ur(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Wr(e){return(e=+e)==1?ua:function(t,n){return n-t?Ur(t,n,e):Ni(isNaN(t)?n:t)}}function ua(e,t){var n=t-e;return n?Gr(e,n):Ni(isNaN(e)?t:e)}const wn=function e(t){var n=Wr(t);function i(s,a){var o=n((s=hi(s)).r,(a=hi(a)).r),l=n(s.g,a.g),r=n(s.b,a.b),u=ua(s.opacity,a.opacity);return function(h){return s.r=o(h),s.g=l(h),s.b=r(h),s.opacity=u(h),s+""}}return i.gamma=e,i}(1);function Zr(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),s;return function(a){for(s=0;s<n;++s)i[s]=e[s]*(1-a)+t[s]*a;return i}}function Kr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Jr(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,s=new Array(i),a=new Array(n),o;for(o=0;o<i;++o)s[o]=Rt(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<i;++o)a[o]=s[o](l);return a}}function Qr(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Le(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function jr(e,t){var n={},i={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Rt(e[s],t[s]):i[s]=t[s];return function(a){for(s in n)i[s]=n[s](a);return i}}var ci=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zn=new RegExp(ci.source,"g");function eu(e){return function(){return e}}function tu(e){return function(t){return e(t)+""}}function ha(e,t){var n=ci.lastIndex=Zn.lastIndex=0,i,s,a,o=-1,l=[],r=[];for(e=e+"",t=t+"";(i=ci.exec(e))&&(s=Zn.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(i=i[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,r.push({i:o,x:Le(i,s)})),n=Zn.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?r[0]?tu(r[0].x):eu(t):(t=r.length,function(u){for(var h=0,c;h<t;++h)l[(c=r[h]).i]=c.x(u);return l.join("")})}function Rt(e,t){var n=typeof t,i;return t==null||n==="boolean"?Ni(t):(n==="number"?Le:n==="string"?(i=pt(t))?(t=i,wn):ha:t instanceof pt?wn:t instanceof Date?Qr:Kr(t)?Zr:Array.isArray(t)?Jr:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jr:Le)(e,t)}var ji=180/Math.PI,di={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ca(e,t,n,i,s,a){var o,l,r;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(r=e*n+t*i)&&(n-=e*r,i-=t*r),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,r/=l),e*i<t*n&&(e=-e,t=-t,r=-r,o=-o),{translateX:s,translateY:a,rotate:Math.atan2(t,e)*ji,skewX:Math.atan(r)*ji,scaleX:o,scaleY:l}}var sn;function nu(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?di:ca(t.a,t.b,t.c,t.d,t.e,t.f)}function iu(e){return e==null||(sn||(sn=document.createElementNS("http://www.w3.org/2000/svg","g")),sn.setAttribute("transform",e),!(e=sn.transform.baseVal.consolidate()))?di:(e=e.matrix,ca(e.a,e.b,e.c,e.d,e.e,e.f))}function da(e,t,n,i){function s(u){return u.length?u.pop()+" ":""}function a(u,h,c,d,p,b){if(u!==c||h!==d){var w=p.push("translate(",null,t,null,n);b.push({i:w-4,x:Le(u,c)},{i:w-2,x:Le(h,d)})}else(c||d)&&p.push("translate("+c+t+d+n)}function o(u,h,c,d){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),d.push({i:c.push(s(c)+"rotate(",null,i)-2,x:Le(u,h)})):h&&c.push(s(c)+"rotate("+h+i)}function l(u,h,c,d){u!==h?d.push({i:c.push(s(c)+"skewX(",null,i)-2,x:Le(u,h)}):h&&c.push(s(c)+"skewX("+h+i)}function r(u,h,c,d,p,b){if(u!==c||h!==d){var w=p.push(s(p)+"scale(",null,",",null,")");b.push({i:w-4,x:Le(u,c)},{i:w-2,x:Le(h,d)})}else(c!==1||d!==1)&&p.push(s(p)+"scale("+c+","+d+")")}return function(u,h){var c=[],d=[];return u=e(u),h=e(h),a(u.translateX,u.translateY,h.translateX,h.translateY,c,d),o(u.rotate,h.rotate,c,d),l(u.skewX,h.skewX,c,d),r(u.scaleX,u.scaleY,h.scaleX,h.scaleY,c,d),u=h=null,function(p){for(var b=-1,w=d.length,C;++b<w;)c[(C=d[b]).i]=C.x(p);return c.join("")}}}var su=da(nu,"px, ","px)","deg)"),au=da(iu,", ",")",")"),ou=1e-12;function es(e){return((e=Math.exp(e))+1/e)/2}function lu(e){return((e=Math.exp(e))-1/e)/2}function ru(e){return((e=Math.exp(2*e))-1)/(e+1)}const dn=function e(t,n,i){function s(a,o){var l=a[0],r=a[1],u=a[2],h=o[0],c=o[1],d=o[2],p=h-l,b=c-r,w=p*p+b*b,C,x;if(w<ou)x=Math.log(d/u)/t,C=function(T){return[l+T*p,r+T*b,u*Math.exp(t*T*x)]};else{var S=Math.sqrt(w),m=(d*d-u*u+i*w)/(2*u*n*S),k=(d*d-u*u-i*w)/(2*d*n*S),N=Math.log(Math.sqrt(m*m+1)-m),$=Math.log(Math.sqrt(k*k+1)-k);x=($-N)/t,C=function(T){var P=T*x,G=es(N),O=u/(n*S)*(G*ru(t*P+N)-lu(N));return[l+O*p,r+O*b,u*G/es(t*P+N)]}}return C.duration=x*1e3*t/Math.SQRT2,C}return s.rho=function(a){var o=Math.max(.001,+a),l=o*o,r=l*l;return e(o,l,r)},s}(Math.SQRT2,2,4);var St=0,It=0,$t=0,pa=1e3,Fn,Tt,Cn=0,ft=0,In=0,Gt=typeof performance=="object"&&performance.now?performance:Date,fa=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ai(){return ft||(fa(uu),ft=Gt.now()+In)}function uu(){ft=0}function _n(){this._call=this._time=this._next=null}_n.prototype=ga.prototype={constructor:_n,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ai():+n)+(t==null?0:+t),!this._next&&Tt!==this&&(Tt?Tt._next=this:Fn=this,Tt=this),this._call=e,this._time=n,pi()},stop:function(){this._call&&(this._call=null,this._time=1/0,pi())}};function ga(e,t,n){var i=new _n;return i.restart(e,t,n),i}function hu(){Ai(),++St;for(var e=Fn,t;e;)(t=ft-e._time)>=0&&e._call.call(void 0,t),e=e._next;--St}function ts(){ft=(Cn=Gt.now())+In,St=It=0;try{hu()}finally{St=0,du(),ft=0}}function cu(){var e=Gt.now(),t=e-Cn;t>pa&&(In-=t,Cn=e)}function du(){for(var e,t=Fn,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Fn=n);Tt=e,pi(i)}function pi(e){if(!St){It&&(It=clearTimeout(It));var t=e-ft;t>24?(e<1/0&&(It=setTimeout(ts,e-Gt.now()-In)),$t&&($t=clearInterval($t))):($t||(Cn=Gt.now(),$t=setInterval(cu,pa)),St=1,fa(ts))}}function ns(e,t,n){var i=new _n;return t=t==null?0:+t,i.restart(s=>{i.stop(),e(s+t)},t,n),i}var pu=$n("start","end","cancel","interrupt"),fu=[],ka=0,is=1,fi=2,pn=3,ss=4,gi=5,fn=6;function Tn(e,t,n,i,s,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;gu(e,n,{name:t,index:i,group:s,on:pu,tween:fu,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ka})}function Di(e,t){var n=Oe(e,t);if(n.state>ka)throw new Error("too late; already scheduled");return n}function Ue(e,t){var n=Oe(e,t);if(n.state>pn)throw new Error("too late; already running");return n}function Oe(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function gu(e,t,n){var i=e.__transition,s;i[t]=n,n.timer=ga(a,0,n.time);function a(u){n.state=is,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var h,c,d,p;if(n.state!==is)return r();for(h in i)if(p=i[h],p.name===n.name){if(p.state===pn)return ns(o);p.state===ss?(p.state=fn,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete i[h]):+h<t&&(p.state=fn,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete i[h])}if(ns(function(){n.state===pn&&(n.state=ss,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=fi,n.on.call("start",e,e.__data__,n.index,n.group),n.state===fi){for(n.state=pn,s=new Array(d=n.tween.length),h=0,c=-1;h<d;++h)(p=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(s[++c]=p);s.length=c+1}}function l(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(r),n.state=gi,1),c=-1,d=s.length;++c<d;)s[c].call(e,h);n.state===gi&&(n.on.call("end",e,e.__data__,n.index,n.group),r())}function r(){n.state=fn,n.timer.stop(),delete i[t];for(var u in i)return;delete e.__transition}}function gn(e,t){var n=e.__transition,i,s,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((i=n[o]).name!==t){a=!1;continue}s=i.state>fi&&i.state<gi,i.state=fn,i.timer.stop(),i.on.call(s?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[o]}a&&delete e.__transition}}function ku(e){return this.each(function(){gn(this,e)})}function Eu(e,t){var n,i;return function(){var s=Ue(this,e),a=s.tween;if(a!==n){i=n=a;for(var o=0,l=i.length;o<l;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}s.tween=i}}function yu(e,t,n){var i,s;if(typeof n!="function")throw new Error;return function(){var a=Ue(this,e),o=a.tween;if(o!==i){s=(i=o).slice();for(var l={name:t,value:n},r=0,u=s.length;r<u;++r)if(s[r].name===t){s[r]=l;break}r===u&&s.push(l)}a.tween=s}}function vu(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=Oe(this.node(),n).tween,s=0,a=i.length,o;s<a;++s)if((o=i[s]).name===e)return o.value;return null}return this.each((t==null?Eu:yu)(n,e,t))}function $i(e,t,n){var i=e._id;return e.each(function(){var s=Ue(this,i);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Oe(s,i).value[t]}}function Ea(e,t){var n;return(typeof t=="number"?Le:t instanceof pt?wn:(n=pt(t))?(t=n,wn):ha)(e,t)}function mu(e){return function(){this.removeAttribute(e)}}function wu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Fu(e,t,n){var i,s=n+"",a;return function(){var o=this.getAttribute(e);return o===s?null:o===i?a:a=t(i=o,n)}}function Cu(e,t,n){var i,s=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===i?a:a=t(i=o,n)}}function _u(e,t,n){var i,s,a;return function(){var o,l=n(this),r;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),r=l+"",o===r?null:o===i&&r===s?a:(s=r,a=t(i=o,l)))}}function bu(e,t,n){var i,s,a;return function(){var o,l=n(this),r;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),r=l+"",o===r?null:o===i&&r===s?a:(s=r,a=t(i=o,l)))}}function xu(e,t){var n=Mn(e),i=n==="transform"?au:Ea;return this.attrTween(e,typeof t=="function"?(n.local?bu:_u)(n,i,$i(this,"attr."+e,t)):t==null?(n.local?wu:mu)(n):(n.local?Cu:Fu)(n,i,t))}function Su(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Bu(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Nu(e,t){var n,i;function s(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&Bu(e,a)),n}return s._value=t,s}function Au(e,t){var n,i;function s(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&Su(e,a)),n}return s._value=t,s}function Du(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Mn(e);return this.tween(n,(i.local?Nu:Au)(i,t))}function $u(e,t){return function(){Di(this,e).delay=+t.apply(this,arguments)}}function Mu(e,t){return t=+t,function(){Di(this,e).delay=t}}function Iu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$u:Mu)(t,e)):Oe(this.node(),t).delay}function Tu(e,t){return function(){Ue(this,e).duration=+t.apply(this,arguments)}}function Pu(e,t){return t=+t,function(){Ue(this,e).duration=t}}function Ru(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Tu:Pu)(t,e)):Oe(this.node(),t).duration}function zu(e,t){if(typeof t!="function")throw new Error;return function(){Ue(this,e).ease=t}}function Ou(e){var t=this._id;return arguments.length?this.each(zu(t,e)):Oe(this.node(),t).ease}function Vu(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ue(this,e).ease=n}}function Hu(e){if(typeof e!="function")throw new Error;return this.each(Vu(this._id,e))}function Lu(e){typeof e!="function"&&(e=Zs(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=i[s]=[],r,u=0;u<o;++u)(r=a[u])&&e.call(r,r.__data__,u,a)&&l.push(r);return new je(i,this._parents,this._name,this._id)}function qu(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,s=n.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var r=t[l],u=n[l],h=r.length,c=o[l]=new Array(h),d,p=0;p<h;++p)(d=r[p]||u[p])&&(c[p]=d);for(;l<i;++l)o[l]=t[l];return new je(o,this._parents,this._name,this._id)}function Yu(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Xu(e,t,n){var i,s,a=Yu(t)?Di:Ue;return function(){var o=a(this,e),l=o.on;l!==i&&(s=(i=l).copy()).on(t,n),o.on=s}}function Gu(e,t){var n=this._id;return arguments.length<2?Oe(this.node(),n).on.on(e):this.each(Xu(n,e,t))}function Uu(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Wu(){return this.on("end.remove",Uu(this._id))}function Zu(e){var t=this._name,n=this._id;typeof e!="function"&&(e=xi(e));for(var i=this._groups,s=i.length,a=new Array(s),o=0;o<s;++o)for(var l=i[o],r=l.length,u=a[o]=new Array(r),h,c,d=0;d<r;++d)(h=l[d])&&(c=e.call(h,h.__data__,d,l))&&("__data__"in h&&(c.__data__=h.__data__),u[d]=c,Tn(u[d],t,n,d,u,Oe(h,n)));return new je(a,this._parents,t,n)}function Ku(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ws(e));for(var i=this._groups,s=i.length,a=[],o=[],l=0;l<s;++l)for(var r=i[l],u=r.length,h,c=0;c<u;++c)if(h=r[c]){for(var d=e.call(h,h.__data__,c,r),p,b=Oe(h,n),w=0,C=d.length;w<C;++w)(p=d[w])&&Tn(p,t,n,w,d,b);a.push(d),o.push(h)}return new je(a,o,t,n)}var Ju=Qt.prototype.constructor;function Qu(){return new Ju(this._groups,this._parents)}function ju(e,t){var n,i,s;return function(){var a=xt(this,e),o=(this.style.removeProperty(e),xt(this,e));return a===o?null:a===n&&o===i?s:s=t(n=a,i=o)}}function ya(e){return function(){this.style.removeProperty(e)}}function eh(e,t,n){var i,s=n+"",a;return function(){var o=xt(this,e);return o===s?null:o===i?a:a=t(i=o,n)}}function th(e,t,n){var i,s,a;return function(){var o=xt(this,e),l=n(this),r=l+"";return l==null&&(r=l=(this.style.removeProperty(e),xt(this,e))),o===r?null:o===i&&r===s?a:(s=r,a=t(i=o,l))}}function nh(e,t){var n,i,s,a="style."+t,o="end."+a,l;return function(){var r=Ue(this,e),u=r.on,h=r.value[a]==null?l||(l=ya(t)):void 0;(u!==n||s!==h)&&(i=(n=u).copy()).on(o,s=h),r.on=i}}function ih(e,t,n){var i=(e+="")=="transform"?su:Ea;return t==null?this.styleTween(e,ju(e,i)).on("end.style."+e,ya(e)):typeof t=="function"?this.styleTween(e,th(e,i,$i(this,"style."+e,t))).each(nh(this._id,e)):this.styleTween(e,eh(e,i,t),n).on("end.style."+e,null)}function sh(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function ah(e,t,n){var i,s;function a(){var o=t.apply(this,arguments);return o!==s&&(i=(s=o)&&sh(e,o,n)),i}return a._value=t,a}function oh(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,ah(e,t,n??""))}function lh(e){return function(){this.textContent=e}}function rh(e){return function(){var t=e(this);this.textContent=t??""}}function uh(e){return this.tween("text",typeof e=="function"?rh($i(this,"text",e)):lh(e==null?"":e+""))}function hh(e){return function(t){this.textContent=e.call(this,t)}}function ch(e){var t,n;function i(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&hh(s)),t}return i._value=e,i}function dh(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ch(e))}function ph(){for(var e=this._name,t=this._id,n=va(),i=this._groups,s=i.length,a=0;a<s;++a)for(var o=i[a],l=o.length,r,u=0;u<l;++u)if(r=o[u]){var h=Oe(r,t);Tn(r,e,n,u,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new je(i,this._parents,e,n)}function fh(){var e,t,n=this,i=n._id,s=n.size();return new Promise(function(a,o){var l={value:o},r={value:function(){--s===0&&a()}};n.each(function(){var u=Ue(this,i),h=u.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(r)),u.on=t}),s===0&&a()})}var gh=0;function je(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function va(){return++gh}var We=Qt.prototype;je.prototype={constructor:je,select:Zu,selectAll:Ku,selectChild:We.selectChild,selectChildren:We.selectChildren,filter:Lu,merge:qu,selection:Qu,transition:ph,call:We.call,nodes:We.nodes,node:We.node,size:We.size,empty:We.empty,each:We.each,on:Gu,attr:xu,attrTween:Du,style:ih,styleTween:oh,text:uh,textTween:dh,remove:Wu,tween:vu,delay:Iu,duration:Ru,ease:Ou,easeVarying:Hu,end:fh,[Symbol.iterator]:We[Symbol.iterator]};function kh(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Eh={time:null,delay:0,duration:250,ease:kh};function yh(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function vh(e){var t,n;e instanceof je?(t=e._id,e=e._name):(t=va(),(n=Eh).time=Ai(),e=e==null?null:e+"");for(var i=this._groups,s=i.length,a=0;a<s;++a)for(var o=i[a],l=o.length,r,u=0;u<l;++u)(r=o[u])&&Tn(r,e,t,u,o,n||yh(r,t));return new je(i,this._parents,e,t)}Qt.prototype.interrupt=ku;Qt.prototype.transition=vh;const an=e=>()=>e;function mh(e,{sourceEvent:t,target:n,transform:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function Je(e,t,n){this.k=e,this.x=t,this.y=n}Je.prototype={constructor:Je,scale:function(e){return e===1?this:new Je(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Je(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Bt=new Je(1,0,0);Je.prototype;function Kn(e){e.stopImmediatePropagation()}function Mt(e){e.preventDefault(),e.stopImmediatePropagation()}function wh(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Fh(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function as(){return this.__zoom||Bt}function Ch(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function _h(){return navigator.maxTouchPoints||"ontouchstart"in this}function bh(e,t,n){var i=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function xh(){var e=wh,t=Fh,n=bh,i=Ch,s=_h,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,r=dn,u=$n("start","zoom","end"),h,c,d,p=500,b=150,w=0,C=10;function x(E){E.property("__zoom",as).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",G).on("dblclick.zoom",O).filter(s).on("touchstart.zoom",B).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",X).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(E,A,_,M){var R=E.selection?E.selection():E;R.property("__zoom",as),E!==R?N(E,A,_,M):R.interrupt().each(function(){$(this,arguments).event(M).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},x.scaleBy=function(E,A,_,M){x.scaleTo(E,function(){var R=this.__zoom.k,L=typeof A=="function"?A.apply(this,arguments):A;return R*L},_,M)},x.scaleTo=function(E,A,_,M){x.transform(E,function(){var R=t.apply(this,arguments),L=this.__zoom,V=_==null?k(R):typeof _=="function"?_.apply(this,arguments):_,U=L.invert(V),ee=typeof A=="function"?A.apply(this,arguments):A;return n(m(S(L,ee),V,U),R,o)},_,M)},x.translateBy=function(E,A,_,M){x.transform(E,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof _=="function"?_.apply(this,arguments):_),t.apply(this,arguments),o)},null,M)},x.translateTo=function(E,A,_,M,R){x.transform(E,function(){var L=t.apply(this,arguments),V=this.__zoom,U=M==null?k(L):typeof M=="function"?M.apply(this,arguments):M;return n(Bt.translate(U[0],U[1]).scale(V.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof _=="function"?-_.apply(this,arguments):-_),L,o)},M,R)};function S(E,A){return A=Math.max(a[0],Math.min(a[1],A)),A===E.k?E:new Je(A,E.x,E.y)}function m(E,A,_){var M=A[0]-_[0]*E.k,R=A[1]-_[1]*E.k;return M===E.x&&R===E.y?E:new Je(E.k,M,R)}function k(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function N(E,A,_,M){E.on("start.zoom",function(){$(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).event(M).end()}).tween("zoom",function(){var R=this,L=arguments,V=$(R,L).event(M),U=t.apply(R,L),ee=_==null?k(U):typeof _=="function"?_.apply(R,L):_,ae=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),z=R.__zoom,H=typeof A=="function"?A.apply(R,L):A,Q=r(z.invert(ee).concat(ae/z.k),H.invert(ee).concat(ae/H.k));return function(le){if(le===1)le=H;else{var re=Q(le),te=ae/re[2];le=new Je(te,ee[0]-re[0]*te,ee[1]-re[1]*te)}V.zoom(null,le)}})}function $(E,A,_){return!_&&E.__zooming||new T(E,A)}function T(E,A){this.that=E,this.args=A,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,A),this.taps=0}T.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,A){return this.mouse&&E!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var A=Pe(this.that).datum();u.call(E,this.that,new mh(E,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:u}),A)}};function P(E,...A){if(!e.apply(this,arguments))return;var _=$(this,A).event(E),M=this.__zoom,R=Math.max(a[0],Math.min(a[1],M.k*Math.pow(2,i.apply(this,arguments)))),L=He(E);if(_.wheel)(_.mouse[0][0]!==L[0]||_.mouse[0][1]!==L[1])&&(_.mouse[1]=M.invert(_.mouse[0]=L)),clearTimeout(_.wheel);else{if(M.k===R)return;_.mouse=[L,M.invert(L)],gn(this),_.start()}Mt(E),_.wheel=setTimeout(V,b),_.zoom("mouse",n(m(S(M,R),_.mouse[0],_.mouse[1]),_.extent,o));function V(){_.wheel=null,_.end()}}function G(E,...A){if(d||!e.apply(this,arguments))return;var _=E.currentTarget,M=$(this,A,!0).event(E),R=Pe(E.view).on("mousemove.zoom",ee,!0).on("mouseup.zoom",ae,!0),L=He(E,_),V=E.clientX,U=E.clientY;aa(E.view),Kn(E),M.mouse=[L,this.__zoom.invert(L)],gn(this),M.start();function ee(z){if(Mt(z),!M.moved){var H=z.clientX-V,Q=z.clientY-U;M.moved=H*H+Q*Q>w}M.event(z).zoom("mouse",n(m(M.that.__zoom,M.mouse[0]=He(z,_),M.mouse[1]),M.extent,o))}function ae(z){R.on("mousemove.zoom mouseup.zoom",null),oa(z.view,M.moved),Mt(z),M.event(z).end()}}function O(E,...A){if(e.apply(this,arguments)){var _=this.__zoom,M=He(E.changedTouches?E.changedTouches[0]:E,this),R=_.invert(M),L=_.k*(E.shiftKey?.5:2),V=n(m(S(_,L),M,R),t.apply(this,A),o);Mt(E),l>0?Pe(this).transition().duration(l).call(N,V,M,E):Pe(this).call(x.transform,V,M,E)}}function B(E,...A){if(e.apply(this,arguments)){var _=E.touches,M=_.length,R=$(this,A,E.changedTouches.length===M).event(E),L,V,U,ee;for(Kn(E),V=0;V<M;++V)U=_[V],ee=He(U,this),ee=[ee,this.__zoom.invert(ee),U.identifier],R.touch0?!R.touch1&&R.touch0[2]!==ee[2]&&(R.touch1=ee,R.taps=0):(R.touch0=ee,L=!0,R.taps=1+!!h);h&&(h=clearTimeout(h)),L&&(R.taps<2&&(c=ee[0],h=setTimeout(function(){h=null},p)),gn(this),R.start())}}function F(E,...A){if(this.__zooming){var _=$(this,A).event(E),M=E.changedTouches,R=M.length,L,V,U,ee;for(Mt(E),L=0;L<R;++L)V=M[L],U=He(V,this),_.touch0&&_.touch0[2]===V.identifier?_.touch0[0]=U:_.touch1&&_.touch1[2]===V.identifier&&(_.touch1[0]=U);if(V=_.that.__zoom,_.touch1){var ae=_.touch0[0],z=_.touch0[1],H=_.touch1[0],Q=_.touch1[1],le=(le=H[0]-ae[0])*le+(le=H[1]-ae[1])*le,re=(re=Q[0]-z[0])*re+(re=Q[1]-z[1])*re;V=S(V,Math.sqrt(le/re)),U=[(ae[0]+H[0])/2,(ae[1]+H[1])/2],ee=[(z[0]+Q[0])/2,(z[1]+Q[1])/2]}else if(_.touch0)U=_.touch0[0],ee=_.touch0[1];else return;_.zoom("touch",n(m(V,U,ee),_.extent,o))}}function X(E,...A){if(this.__zooming){var _=$(this,A).event(E),M=E.changedTouches,R=M.length,L,V;for(Kn(E),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),L=0;L<R;++L)V=M[L],_.touch0&&_.touch0[2]===V.identifier?delete _.touch0:_.touch1&&_.touch1[2]===V.identifier&&delete _.touch1;if(_.touch1&&!_.touch0&&(_.touch0=_.touch1,delete _.touch1),_.touch0)_.touch0[1]=this.__zoom.invert(_.touch0[0]);else if(_.end(),_.taps===2&&(V=He(V,this),Math.hypot(c[0]-V[0],c[1]-V[1])<C)){var U=Pe(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return x.wheelDelta=function(E){return arguments.length?(i=typeof E=="function"?E:an(+E),x):i},x.filter=function(E){return arguments.length?(e=typeof E=="function"?E:an(!!E),x):e},x.touchable=function(E){return arguments.length?(s=typeof E=="function"?E:an(!!E),x):s},x.extent=function(E){return arguments.length?(t=typeof E=="function"?E:an([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),x):t},x.scaleExtent=function(E){return arguments.length?(a[0]=+E[0],a[1]=+E[1],x):[a[0],a[1]]},x.translateExtent=function(E){return arguments.length?(o[0][0]=+E[0][0],o[1][0]=+E[1][0],o[0][1]=+E[0][1],o[1][1]=+E[1][1],x):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},x.constrain=function(E){return arguments.length?(n=E,x):n},x.duration=function(E){return arguments.length?(l=+E,x):l},x.interpolate=function(E){return arguments.length?(r=E,x):r},x.on=function(){var E=u.on.apply(u,arguments);return E===u?x:E},x.clickDistance=function(E){return arguments.length?(w=(E=+E)*E,x):Math.sqrt(w)},x.tapDistance=function(E){return arguments.length?(C=+E,x):C},x}var q=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(q||{}),Mi=(e=>(e.Partial="partial",e.Full="full",e))(Mi||{}),rt=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(rt||{}),ot=(e=>(e.Strict="strict",e.Loose="loose",e))(ot||{}),ki=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(ki||{}),zt=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(zt||{});const Sh=["INPUT","SELECT","TEXTAREA"],Bh=typeof document<"u"?document:null;function Ei(e){var t,n;const i=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,s=typeof(i==null?void 0:i.hasAttribute)=="function"?i.hasAttribute("contenteditable"):!1,a=typeof(i==null?void 0:i.closest)=="function"?i.closest(".nokey"):null;return Sh.includes(i==null?void 0:i.nodeName)||s||!!a}function Nh(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function os(e,t,n,i){const s=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(o=>o.trim().toLowerCase());if(s.length===1)return e.toLowerCase()===t.toLowerCase();i||n.add(e.toLowerCase());const a=s.every((o,l)=>n.has(o)&&Array.from(n.values())[l]===s[l]);return i&&n.delete(e.toLowerCase()),a}function Ah(e,t){return n=>{if(!n.code&&!n.key)return!1;const i=Dh(n.code,e);return Array.isArray(e)?e.some(s=>os(n[i],s,t,n.type==="keyup")):os(n[i],e,t,n.type==="keyup")}}function Dh(e,t){return t.includes(e)?"code":"key"}function Ot(e,t){const n=oe(()=>ce(t==null?void 0:t.target)??Bh),i=En(ce(e)===!0);let s=!1;const a=new Set;let o=r(ce(e));ke(()=>ce(e),(u,h)=>{typeof h=="boolean"&&typeof u!="boolean"&&l(),o=r(u)},{immediate:!0}),Gs(["blur","contextmenu"],l),Li((...u)=>o(...u),u=>{var h,c;const d=ce(t==null?void 0:t.actInsideInputWithModifier)??!0,p=ce(t==null?void 0:t.preventDefault)??!1;if(s=Nh(u),(!s||s&&!d)&&Ei(u))return;const w=((c=(h=u.composedPath)==null?void 0:h.call(u))==null?void 0:c[0])||u.target,C=(w==null?void 0:w.nodeName)==="BUTTON"||(w==null?void 0:w.nodeName)==="A";!p&&(s||!C)&&u.preventDefault(),i.value=!0},{eventName:"keydown",target:n}),Li((...u)=>o(...u),u=>{const h=ce(t==null?void 0:t.actInsideInputWithModifier)??!0;if(i.value){if((!s||s&&!h)&&Ei(u))return;s=!1,i.value=!1}},{eventName:"keyup",target:n});function l(){s=!1,a.clear(),i.value=ce(e)===!0}function r(u){return u===null?(l(),()=>!1):typeof u=="boolean"?(l(),i.value=u,()=>!1):Array.isArray(u)||typeof u=="string"?Ah(u,a):u}return i}const ma="vue-flow__node-desc",wa="vue-flow__edge-desc",$h="vue-flow__aria-live",Fa=["Enter"," ","Escape"],Ft={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function bn(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function xn(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)}function Pn(e){return{width:e.offsetWidth,height:e.offsetHeight}}function et(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function Ca(e,t){return{x:et(e.x,t[0][0],t[1][0]),y:et(e.y,t[0][1],t[1][1])}}function ls(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function lt(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function dt(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!lt(e)}function Pt(e){return dt(e)&&"computedPosition"in e}function on(e){return!Number.isNaN(e)&&Number.isFinite(e)}function Mh(e){return on(e.width)&&on(e.height)&&on(e.x)&&on(e.y)}function Ih(e,t,n){const i={id:e.id.toString(),type:e.type??"default",dimensions:Ke({width:0,height:0}),computedPosition:Ke({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:Ce(e.data)?e.data:{},events:Ke(Ce(e.events)?e.events:{})};return Object.assign(t??i,e,{id:e.id.toString(),parentNode:n})}function _a(e,t,n){var i,s;const a={id:e.id.toString(),type:e.type??(t==null?void 0:t.type)??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(i=e.sourceHandle)==null?void 0:i.toString(),targetHandle:(s=e.targetHandle)==null?void 0:s.toString(),updatable:e.updatable??(n==null?void 0:n.updatable),selectable:e.selectable??(n==null?void 0:n.selectable),focusable:e.focusable??(n==null?void 0:n.focusable),data:Ce(e.data)?e.data:{},events:Ke(Ce(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??(n==null?void 0:n.interactionWidth),...n??{}};return Object.assign(t??a,e,{id:e.id.toString()})}function ba(e,t,n,i){const s=typeof e=="string"?e:e.id,a=new Set,o=i==="source"?"target":"source";for(const l of n)l[o]===s&&a.add(l[i]);return t.filter(l=>a.has(l.id))}function Th(...e){if(e.length===3){const[a,o,l]=e;return ba(a,o,l,"target")}const[t,n]=e,i=typeof t=="string"?t:t.id;return n.filter(a=>lt(a)&&a.source===i).map(a=>n.find(o=>dt(o)&&o.id===a.target))}function Ph(...e){if(e.length===3){const[a,o,l]=e;return ba(a,o,l,"source")}const[t,n]=e,i=typeof t=="string"?t:t.id;return n.filter(a=>lt(a)&&a.target===i).map(a=>n.find(o=>dt(o)&&o.id===a.source))}function xa({source:e,sourceHandle:t,target:n,targetHandle:i}){return`vueflow__edge-${e}${t??""}-${n}${i??""}`}function Rh(e,t){return t.some(n=>lt(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function yi({x:e,y:t},{x:n,y:i,zoom:s}){return{x:e*s+n,y:t*s+i}}function Ut({x:e,y:t},{x:n,y:i,zoom:s},a=!1,o=[1,1]){const l={x:(e-n)/s,y:(t-i)/s};return a?Rn(l,o):l}function zh(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function Sa({x:e,y:t,width:n,height:i}){return{x:e,y:t,x2:e+n,y2:t+i}}function Oh({x:e,y:t,x2:n,y2:i}){return{x:e,y:t,width:n-e,height:i-t}}function Ba(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const i=e[n];t=zh(t,Sa({...i.computedPosition,...i.dimensions}))}return Oh(t)}function Na(e,t,n={x:0,y:0,zoom:1},i=!1,s=!1){const a={...Ut(t,n),width:t.width/n.zoom,height:t.height/n.zoom},o=[];for(const l of e){const{dimensions:r,selectable:u=!0,hidden:h=!1}=l,c=r.width??l.width??null,d=r.height??l.height??null;if(s&&!u||h)continue;const p=xn(a,bn(l)),b=c===null||d===null,w=i&&p>0,C=(c??0)*(d??0);(b||w||p>=C||l.dragging)&&o.push(l)}return o}function Aa(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const i of e)n.add(i.id);return t.filter(i=>n.has(i.source)||n.has(i.target))}function rs(e,t,n,i,s,a=.1,o={x:0,y:0}){const l=t/(e.width*(1+a)),r=n/(e.height*(1+a)),u=Math.min(l,r),h=et(u,i,s),c=e.x+e.width/2,d=e.y+e.height/2,p=t/2-c*h+(o.x??0),b=n/2-d*h+(o.y??0);return{x:p,y:b,zoom:h}}function Vh(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function Da(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:Da(n,t):!1}function Wt(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`}function us(e,t,n){return e<t?et(Math.abs(e-t),1,t)/t:e>n?-et(Math.abs(e-n),1,t)/t:0}function $a(e,t,n=15,i=40){const s=us(e.x,i,t.width-i)*n,a=us(e.y,i,t.height-i)*n;return[s,a]}function Jn(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,i=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||i>0||e.position.x<0||e.position.y<0){let s={};if(typeof t.style=="function"?s={...t.style(t)}:t.style&&(s={...t.style}),s.width=s.width??`${t.dimensions.width}px`,s.height=s.height??`${t.dimensions.height}px`,n>0)if(typeof s.width=="string"){const a=Number(s.width.replace("px",""));s.width=`${a+n}px`}else s.width+=n;if(i>0)if(typeof s.height=="string"){const a=Number(s.height.replace("px",""));s.height=`${a+i}px`}else s.height+=i;if(e.position.x<0){const a=Math.abs(e.position.x);if(t.position.x=t.position.x-a,typeof s.width=="string"){const o=Number(s.width.replace("px",""));s.width=`${o+a}px`}else s.width+=a;e.position.x=0}if(e.position.y<0){const a=Math.abs(e.position.y);if(t.position.y=t.position.y-a,typeof s.height=="string"){const o=Number(s.height.replace("px",""));s.height=`${o+a}px`}else s.height+=a;e.position.y=0}t.dimensions.width=Number(s.width.toString().replace("px","")),t.dimensions.height=Number(s.height.toString().replace("px","")),typeof t.style=="function"?t.style=a=>{const o=t.style;return{...o(a),...s}}:t.style={...t.style,...s}}}}function hs(e,t){var n,i;const s=e.filter(o=>o.type==="add"||o.type==="remove");for(const o of s)if(o.type==="add")t.findIndex(r=>r.id===o.item.id)===-1&&t.push(o.item);else if(o.type==="remove"){const l=t.findIndex(r=>r.id===o.id);l!==-1&&t.splice(l,1)}const a=t.map(o=>o.id);for(const o of t)for(const l of e)if(l.id===o.id)switch(l.type){case"select":o.selected=l.selected;break;case"position":if(Pt(o)&&(typeof l.position<"u"&&(o.position=l.position),typeof l.dragging<"u"&&(o.dragging=l.dragging),o.expandParent&&o.parentNode)){const r=t[a.indexOf(o.parentNode)];r&&Pt(r)&&Jn(o,r)}break;case"dimensions":if(Pt(o)&&(typeof l.dimensions<"u"&&(o.dimensions=l.dimensions),typeof l.updateStyle<"u"&&l.updateStyle&&(o.style={...o.style||{},width:`${(n=l.dimensions)==null?void 0:n.width}px`,height:`${(i=l.dimensions)==null?void 0:i.height}px`}),typeof l.resizing<"u"&&(o.resizing=l.resizing),o.expandParent&&o.parentNode)){const r=t[a.indexOf(o.parentNode)];r&&Pt(r)&&(!!r.dimensions.width&&!!r.dimensions.height?Jn(o,r):Me(()=>{Jn(o,r)}))}break}return t}function nt(e,t){return{id:e,type:"select",selected:t}}function cs(e){return{item:e,type:"add"}}function ds(e){return{id:e,type:"remove"}}function ps(e,t,n,i,s){return{id:e,source:t,target:n,sourceHandle:i||null,targetHandle:s||null,type:"remove"}}function it(e,t=new Set,n=!1){const i=[];for(const[s,a]of e){const o=t.has(s);!(a.selected===void 0&&!o)&&a.selected!==o&&(n&&(a.selected=o),i.push(nt(a.id,o)))}return i}function Y(e){const t=new Set;let n=!1;const i=()=>t.size>0;e&&(n=!0,t.add(e));const s=l=>{t.delete(l)};return{on:l=>{e&&n&&t.delete(e),t.add(l);const r=()=>{s(l),e&&n&&t.add(e)};return Dn(r),{off:r}},off:s,trigger:l=>Promise.all(Array.from(t).map(r=>r(l))),hasListeners:i,fns:t}}function fs(e,t,n){let i=e;do{if(i&&i.matches(t))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function Hh(e,t,n,i,s){var a,o;const l=[];for(const r of e)(r.selected||r.id===s)&&(!r.parentNode||!Da(r,i))&&(r.draggable||t&&typeof r.draggable>"u")&&l.push(Ke({id:r.id,position:r.position||{x:0,y:0},distance:{x:n.x-((a=r.computedPosition)==null?void 0:a.x)||0,y:n.y-((o=r.computedPosition)==null?void 0:o.y)||0},from:r.computedPosition,extent:r.extent,parentNode:r.parentNode,dimensions:r.dimensions,expandParent:r.expandParent}));return l}function Qn({id:e,dragItems:t,findNode:n}){const i=[];for(const s of t){const a=n(s.id);a&&i.push(a)}return[e?i.find(s=>s.id===e):i[0],i]}function Ma(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function Lh(e,t,n){const[i,s,a,o]=typeof e!="string"?Ma(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+o,n.computedPosition.y+i],[n.computedPosition.x+n.dimensions.width-s,n.computedPosition.y+n.dimensions.height-a]]:!1}function qh(e,t,n,i){let s=e.extent||n;if((s==="parent"||!Array.isArray(s)&&(s==null?void 0:s.range)==="parent")&&!e.expandParent)if(e.parentNode&&i&&e.dimensions.width&&e.dimensions.height){const a=Lh(s,e,i);a&&(s=a)}else t(new xe(be.NODE_EXTENT_INVALID,e.id)),s=n;else if(Array.isArray(s)){const a=(i==null?void 0:i.computedPosition.x)||0,o=(i==null?void 0:i.computedPosition.y)||0;s=[[s[0][0]+a,s[0][1]+o],[s[1][0]+a,s[1][1]+o]]}else if(s!=="parent"&&(s!=null&&s.range)&&Array.isArray(s.range)){const[a,o,l,r]=Ma(s.padding),u=(i==null?void 0:i.computedPosition.x)||0,h=(i==null?void 0:i.computedPosition.y)||0;s=[[s.range[0][0]+u+r,s.range[0][1]+h+a],[s.range[1][0]+u-o,s.range[1][1]+h-l]]}return s==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:s}function Yh({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function Ii(e,t,n,i,s){const a=Yh(e.dimensions,qh(e,n,i,s)),o=Ca(t,a);return{position:{x:o.x-((s==null?void 0:s.computedPosition.x)||0),y:o.y-((s==null?void 0:s.computedPosition.y)||0)},computedPosition:o}}function Nt(e,t,n=q.Left,i=!1){const s=((t==null?void 0:t.x)??0)+e.computedPosition.x,a=((t==null?void 0:t.y)??0)+e.computedPosition.y,{width:o,height:l}=t??Wh(e);if(i)return{x:s+o/2,y:a+l/2};switch((t==null?void 0:t.position)??n){case q.Top:return{x:s+o/2,y:a};case q.Right:return{x:s+o,y:a+l/2};case q.Bottom:return{x:s+o/2,y:a+l};case q.Left:return{x:s,y:a+l/2}}}function gs(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Xh({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:i,targetWidth:s,targetHeight:a,width:o,height:l,viewport:r}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+s),y2:Math.max(e.y+i,t.y+a)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const h=Sa({x:(0-r.x)/r.zoom,y:(0-r.y)/r.zoom,width:o/r.zoom,height:l/r.zoom}),c=Math.max(0,Math.min(h.x2,u.x2)-Math.max(h.x,u.x)),d=Math.max(0,Math.min(h.y2,u.y2)-Math.max(h.y,u.y));return Math.ceil(c*d)>0}function Gh(e,t,n=!1){const i=typeof e.zIndex=="number";let s=i?e.zIndex:0;const a=t(e.source),o=t(e.target);return!a||!o?0:(n&&(s=i?e.zIndex:Math.max(a.computedPosition.z||0,o.computedPosition.z||0)),s)}var be=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(be||{});const ks={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class xe extends Error{constructor(t,...n){var i;super((i=ks[t])==null?void 0:i.call(ks,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function Ti(e){return"clientX"in e}function Uh(e){return"sourceEvent"in e}function qe(e,t){const n=Ti(e);let i,s;return n?(i=e.clientX,s=e.clientY):"touches"in e&&e.touches.length>0?(i=e.touches[0].clientX,s=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(i=e.changedTouches[0].clientX,s=e.changedTouches[0].clientY):(i=0,s=0),{x:i-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}}const Sn=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Wh(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function Rn(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const Zh=()=>!0;function jn(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function Kh(e,t,n){const i=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const a of t.values())xn(s,bn(a))>0&&i.push(a);return i}const Jh=250;function Qh(e,t,n,i){var s,a;let o=[],l=Number.POSITIVE_INFINITY;const r=Kh(e,n,t+Jh);for(const u of r){const h=[...((s=u.handleBounds)==null?void 0:s.source)??[],...((a=u.handleBounds)==null?void 0:a.target)??[]];for(const c of h){if(i.nodeId===c.nodeId&&i.type===c.type&&i.id===c.id)continue;const{x:d,y:p}=Nt(u,c,c.position,!0),b=Math.sqrt((d-e.x)**2+(p-e.y)**2);b>t||(b<l?(o=[{...c,x:d,y:p}],l=b):b===l&&o.push({...c,x:d,y:p}))}}if(!o.length)return null;if(o.length>1){const u=i.type==="source"?"target":"source";return o.find(h=>h.type===u)??o[0]}return o[0]}function Es(e,{handle:t,connectionMode:n,fromNodeId:i,fromHandleId:s,fromType:a,doc:o,lib:l,flowId:r,isValidConnection:u=Zh},h,c,d){const p=a==="target",b=t?o.querySelector(`.${l}-flow__handle[data-id="${r}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:w,y:C}=qe(e),x=o.elementFromPoint(w,C),S=x!=null&&x.classList.contains(`${l}-flow__handle`)?x:b,m={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const k=Ia(void 0,S),N=S.getAttribute("data-nodeid"),$=S.getAttribute("data-handleid"),T=S.classList.contains("connectable"),P=S.classList.contains("connectableend");if(!N||!k)return m;const G={source:p?N:i,sourceHandle:p?$:s,target:p?i:N,targetHandle:p?s:$};m.connection=G;const B=T&&P&&(n===ot.Strict?p&&k==="source"||!p&&k==="target":N!==i||$!==s);m.isValid=B&&u(G,{nodes:c,edges:h,sourceNode:d(i),targetNode:d(N)}),m.toHandle=t}return m}function Ia(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function jh(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function ec(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function tc(e,t,n,i,s,a=!1){var o,l,r;const u=i.get(e);if(!u)return null;const h=s===ot.Strict?(o=u.handleBounds)==null?void 0:o[t]:[...((l=u.handleBounds)==null?void 0:l.source)??[],...((r=u.handleBounds)==null?void 0:r.target)??[]],c=(n?h==null?void 0:h.find(d=>d.id===n):h==null?void 0:h[0])??null;return c&&a?{...c,...Nt(u,c,c.position,!0)}:c}const vi={[q.Left]:q.Right,[q.Right]:q.Left,[q.Top]:q.Bottom,[q.Bottom]:q.Top},nc=["production","prod"];function zn(e,...t){Ta()&&console.warn(`[Vue Flow]: ${e}`,...t)}function Ta(){return!nc.includes("production")}function ys(e,t,n,i,s){const a=t.querySelectorAll(`.vue-flow__handle.${e}`);return a!=null&&a.length?Array.from(a).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:s,position:o.getAttribute("data-handlepos"),x:(l.left-n.left)/i,y:(l.top-n.top)/i,...Pn(o)}}):null}function mi(e,t,n,i,s,a=!1,o){s.value=!1,e.selected?(a||e.selected&&t)&&(i([e]),Me(()=>{o.blur()})):n([e])}function Ce(e){return typeof I(e)<"u"}function ic(e,t,n,i){if(!e||!e.source||!e.target)return n(new xe(be.EDGE_INVALID,(e==null?void 0:e.id)??"[ID UNKNOWN]")),!1;let s;return lt(e)?s=e:s={...e,id:xa(e)},s=_a(s,void 0,i),Rh(s,t)?!1:s}function sc(e,t,n,i,s){if(!t.source||!t.target)return s(new xe(be.EDGE_INVALID,e.id)),!1;if(!n)return s(new xe(be.EDGE_NOT_FOUND,e.id)),!1;const{id:a,...o}=e;return{...o,id:i?xa(t):a,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function vs(e,t,n){const i={},s=[];for(let a=0;a<e.length;++a){const o=e[a];if(!dt(o)){n(new xe(be.NODE_INVALID,o==null?void 0:o.id)||`[ID UNKNOWN|INDEX ${a}]`);continue}const l=Ih(o,t(o.id),o.parentNode);o.parentNode&&(i[o.parentNode]=!0),s[a]=l}for(const a of s){const o=t(a.parentNode)||s.find(l=>l.id===a.parentNode);a.parentNode&&!o&&n(new xe(be.NODE_MISSING_PARENT,a.id,a.parentNode)),(a.parentNode||i[a.id])&&(i[a.id]&&(a.isParent=!0),o&&(o.isParent=!0))}return s}function ms(e,t,n,i,s,a){let o=s;const l=i.get(o)||new Map;i.set(o,l.set(n,t)),o=`${s}-${e}`;const r=i.get(o)||new Map;if(i.set(o,r.set(n,t)),a){o=`${s}-${e}-${a}`;const u=i.get(o)||new Map;i.set(o,u.set(n,t))}}function ei(e,t,n){e.clear();for(const i of n){const{source:s,target:a,sourceHandle:o=null,targetHandle:l=null}=i,r={edgeId:i.id,source:s,target:a,sourceHandle:o,targetHandle:l},u=`${s}-${o}--${a}-${l}`,h=`${a}-${l}--${s}-${o}`;ms("source",r,h,e,s,o),ms("target",r,u,e,a,l)}}function ws(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function ti(e,t,n,i,s,a,o,l){const r=[];for(const u of e){const h=lt(u)?u:ic(u,l,s,a);if(!h)continue;const c=n(h.source),d=n(h.target);if(!c||!d){s(new xe(be.EDGE_SOURCE_TARGET_MISSING,h.id,h.source,h.target));continue}if(!c){s(new xe(be.EDGE_SOURCE_MISSING,h.id,h.source));continue}if(!d){s(new xe(be.EDGE_TARGET_MISSING,h.id,h.target));continue}if(t&&!t(h,{edges:l,nodes:o,sourceNode:c,targetNode:d})){s(new xe(be.EDGE_INVALID,h.id));continue}const p=i(h.id);r.push({..._a(h,p,a),sourceNode:c,targetNode:d})}return r}const Fs=Symbol("vueFlow"),Pi=Symbol("nodeId"),Pa=Symbol("nodeRef"),ac=Symbol("edgeId"),oc=Symbol("edgeRef"),On=Symbol("slots");function Ra(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:i,noDragClassName:s,nodes:a,nodeExtent:o,nodeDragThreshold:l,viewport:r,autoPanOnNodeDrag:u,autoPanSpeed:h,nodesDraggable:c,panBy:d,findNode:p,multiSelectionActive:b,nodesSelectionActive:w,selectNodesOnDrag:C,removeSelectedElements:x,addSelectedNodes:S,updateNodePositions:m,emits:k}=we(),{onStart:N,onDrag:$,onStop:T,onClick:P,el:G,disabled:O,id:B,selectable:F,dragHandle:X}=e,E=En(!1);let A=[],_,M=null,R={x:void 0,y:void 0},L={x:0,y:0},V=null,U=!1,ee=0,ae=!1;const z=za(),H=({x:K,y:j})=>{R={x:K,y:j};let ie=!1;if(A=A.map(g=>{const f={x:K-g.distance.x,y:j-g.distance.y},{computedPosition:v}=Ii(g,n.value?Rn(f,i.value):f,k.error,o.value,g.parentNode?p(g.parentNode):void 0);return ie=ie||g.position.x!==v.x||g.position.y!==v.y,g.position=v,g}),!!ie&&(m(A,!0,!0),E.value=!0,V)){const[g,f]=Qn({id:B,dragItems:A,findNode:p});$({event:V,node:g,nodes:f})}},Q=()=>{if(!M)return;const[K,j]=$a(L,M,h.value);if(K!==0||j!==0){const ie={x:(R.x??0)-K/r.value.zoom,y:(R.y??0)-j/r.value.zoom};d({x:K,y:j})&&H(ie)}ee=requestAnimationFrame(Q)},le=(K,j)=>{U=!0;const ie=p(B);!C.value&&!b.value&&ie&&(ie.selected||x()),ie&&ce(F)&&C.value&&mi(ie,b.value,S,x,w,!1,j);const g=z(K.sourceEvent);if(R=g,A=Hh(a.value,c.value,g,p,B),A.length){const[f,v]=Qn({id:B,dragItems:A,findNode:p});N({event:K.sourceEvent,node:f,nodes:v})}},re=(K,j)=>{var ie;K.sourceEvent.type==="touchmove"&&K.sourceEvent.touches.length>1||(l.value===0&&le(K,j),R=z(K.sourceEvent),M=((ie=t.value)==null?void 0:ie.getBoundingClientRect())||null,L=qe(K.sourceEvent,M))},te=(K,j)=>{const ie=z(K.sourceEvent);if(!ae&&U&&u.value&&(ae=!0,Q()),!U){const g=ie.xSnapped-(R.x??0),f=ie.ySnapped-(R.y??0);Math.sqrt(g*g+f*f)>l.value&&le(K,j)}(R.x!==ie.xSnapped||R.y!==ie.ySnapped)&&A.length&&U&&(V=K.sourceEvent,L=qe(K.sourceEvent,M),H(ie))},de=K=>{let j=!1;if(!U&&!E.value&&!b.value){const ie=K.sourceEvent,g=z(ie),f=g.xSnapped-(R.x??0),v=g.ySnapped-(R.y??0),y=Math.sqrt(f*f+v*v);y!==0&&y<=l.value&&(P==null||P(ie),j=!0)}if(A.length&&!j){m(A,!1,!1);const[ie,g]=Qn({id:B,dragItems:A,findNode:p});T({event:K.sourceEvent,node:ie,nodes:g})}A=[],E.value=!1,ae=!1,U=!1,R={x:void 0,y:void 0},cancelAnimationFrame(ee)};return ke([()=>ce(O),G],([K,j],ie,g)=>{if(j){const f=Pe(j);K||(_=Mr().on("start",v=>re(v,j)).on("drag",v=>te(v,j)).on("end",v=>de(v)).filter(v=>{const y=v.target,D=ce(X);return!v.button&&(!s.value||!fs(y,`.${s.value}`,j)&&(!D||fs(y,D,j)))}),f.call(_)),g(()=>{f.on(".drag",null),_&&(_.on("start",null),_.on("drag",null),_.on("end",null))})}}),E}function lc(){return{doubleClick:Y(),click:Y(),mouseEnter:Y(),mouseMove:Y(),mouseLeave:Y(),contextMenu:Y(),updateStart:Y(),update:Y(),updateEnd:Y()}}function rc(e,t){const n=lc();return n.doubleClick.on(i=>{var s,a;t.edgeDoubleClick(i),(a=(s=e.events)==null?void 0:s.doubleClick)==null||a.call(s,i)}),n.click.on(i=>{var s,a;t.edgeClick(i),(a=(s=e.events)==null?void 0:s.click)==null||a.call(s,i)}),n.mouseEnter.on(i=>{var s,a;t.edgeMouseEnter(i),(a=(s=e.events)==null?void 0:s.mouseEnter)==null||a.call(s,i)}),n.mouseMove.on(i=>{var s,a;t.edgeMouseMove(i),(a=(s=e.events)==null?void 0:s.mouseMove)==null||a.call(s,i)}),n.mouseLeave.on(i=>{var s,a;t.edgeMouseLeave(i),(a=(s=e.events)==null?void 0:s.mouseLeave)==null||a.call(s,i)}),n.contextMenu.on(i=>{var s,a;t.edgeContextMenu(i),(a=(s=e.events)==null?void 0:s.contextMenu)==null||a.call(s,i)}),n.updateStart.on(i=>{var s,a;t.edgeUpdateStart(i),(a=(s=e.events)==null?void 0:s.updateStart)==null||a.call(s,i)}),n.update.on(i=>{var s,a;t.edgeUpdate(i),(a=(s=e.events)==null?void 0:s.update)==null||a.call(s,i)}),n.updateEnd.on(i=>{var s,a;t.edgeUpdateEnd(i),(a=(s=e.events)==null?void 0:s.updateEnd)==null||a.call(s,i)}),Object.entries(n).reduce((i,[s,a])=>(i.emit[s]=a.trigger,i.on[s]=a.on,i),{emit:{},on:{}})}function za(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:i}=we();return s=>{var a;const o=((a=i.value)==null?void 0:a.getBoundingClientRect())??{left:0,top:0},l=Uh(s)?s.sourceEvent:s,{x:r,y:u}=qe(l,o),h=Ut({x:r,y:u},e.value),{x:c,y:d}=n.value?Rn(h,t.value):h;return{xSnapped:c,ySnapped:d,...h}}}function ln(){return!0}function Oa({handleId:e,nodeId:t,type:n,isValidConnection:i,edgeUpdaterType:s,onEdgeUpdate:a,onEdgeUpdateEnd:o}){const{id:l,vueFlowRef:r,connectionMode:u,connectionRadius:h,connectOnClick:c,connectionClickStartHandle:d,nodesConnectable:p,autoPanOnConnect:b,autoPanSpeed:w,findNode:C,panBy:x,startConnection:S,updateConnection:m,endConnection:k,emits:N,viewport:$,edges:T,nodes:P,isValidConnection:G,nodeLookup:O}=we();let B=null,F=!1,X=null;function E(_){var M;const R=ce(n)==="target",L=Ti(_),V=ls(_.target);if(L&&_.button===0||!L){let U=function(ne){g=qe(ne,K),H=Qh(Ut(g,$.value,!1,[1,1]),h.value,O.value,y),f||(v(),f=!0);const ue=Es(ne,{handle:H,connectionMode:u.value,fromNodeId:ce(t),fromHandleId:ce(e),fromType:R?"target":"source",isValidConnection:z,doc:V,lib:"vue",flowId:l,nodeLookup:O.value},T.value,P.value,C);X=ue.handleDomNode,B=ue.connection,F=ec(!!H,ue.isValid);const pe={...Z,isValid:F,to:ue.toHandle&&F?yi({x:ue.toHandle.x,y:ue.toHandle.y},$.value):g,toHandle:ue.toHandle,toPosition:F&&ue.toHandle?ue.toHandle.position:vi[y.position],toNode:ue.toHandle?O.value.get(ue.toHandle.nodeId):null};if(!(F&&H&&(Z!=null&&Z.toHandle)&&pe.toHandle&&Z.toHandle.type===pe.toHandle.type&&Z.toHandle.nodeId===pe.toHandle.nodeId&&Z.toHandle.id===pe.toHandle.id&&Z.to.x===pe.to.x&&Z.to.y===pe.to.y)){if(m(H&&F?yi({x:H.x,y:H.y},$.value):g,ue.toHandle,jh(!!H,F)),Z=pe,!H&&!F&&!X)return jn(ie);B&&B.source!==B.target&&X&&(jn(ie),ie=X,X.classList.add("connecting","vue-flow__handle-connecting"),X.classList.toggle("valid",!!F),X.classList.toggle("vue-flow__handle-valid",!!F))}},ee=function(ne){(H||X)&&B&&F&&(a?a(ne,B):N.connect(B)),N.connectEnd(ne),s&&(o==null||o(ne)),jn(ie),cancelAnimationFrame(Q),k(ne),f=!1,F=!1,B=null,X=null,V.removeEventListener("mousemove",U),V.removeEventListener("mouseup",ee),V.removeEventListener("touchmove",U),V.removeEventListener("touchend",ee)};const ae=C(ce(t));let z=ce(i)||G.value||ln;!z&&ae&&(z=(R?ae.isValidSourcePos:ae.isValidTargetPos)||ln);let H,Q=0;const{x:le,y:re}=qe(_),te=V==null?void 0:V.elementFromPoint(le,re),de=Ia(ce(s),te),K=(M=r.value)==null?void 0:M.getBoundingClientRect();if(!K||!de)return;const j=tc(ce(t),de,ce(e),O.value,u.value);if(!j)return;let ie,g=qe(_,K),f=!1;const v=()=>{if(!b.value)return;const[ne,ue]=$a(g,K,w.value);x({x:ne,y:ue}),Q=requestAnimationFrame(v)},y={...j,nodeId:ce(t),type:de,position:j.position},D=O.value.get(ce(t)),W={inProgress:!0,isValid:null,from:Nt(D,y,q.Left,!0),fromHandle:y,fromPosition:y.position,fromNode:D,to:g,toHandle:null,toPosition:vi[y.position],toNode:null};S({nodeId:ce(t),id:ce(e),type:de,position:(te==null?void 0:te.getAttribute("data-handlepos"))||q.Top,...g},{x:le-K.left,y:re-K.top}),N.connectStart({event:_,nodeId:ce(t),handleId:ce(e),handleType:de});let Z=W;V.addEventListener("mousemove",U),V.addEventListener("mouseup",ee),V.addEventListener("touchmove",U),V.addEventListener("touchend",ee)}}function A(_){var M,R;if(!c.value)return;const L=ce(n)==="target";if(!d.value){N.clickConnectStart({event:_,nodeId:ce(t),handleId:ce(e)}),S({nodeId:ce(t),type:ce(n),id:ce(e),position:q.Top,...qe(_)},void 0,!0);return}let V=ce(i)||G.value||ln;const U=C(ce(t));if(!V&&U&&(V=(L?U.isValidSourcePos:U.isValidTargetPos)||ln),U&&(typeof U.connectable>"u"?p.value:U.connectable)===!1)return;const ee=ls(_.target),ae=Es(_,{handle:{nodeId:ce(t),id:ce(e),type:ce(n),position:q.Top,...qe(_)},connectionMode:u.value,fromNodeId:d.value.nodeId,fromHandleId:d.value.id??null,fromType:d.value.type,isValidConnection:V,doc:ee,lib:"vue",flowId:l,nodeLookup:O.value},T.value,P.value,C),z=((M=ae.connection)==null?void 0:M.source)===((R=ae.connection)==null?void 0:R.target);ae.isValid&&ae.connection&&!z&&N.connect(ae.connection),N.clickConnectEnd(_),k(_,!0)}return{handlePointerDown:E,handleClick:A}}function uc(){return gt(Pi,"")}function Va(e){const t=e??uc()??"",n=gt(Pa,ge(null)),{findNode:i,edges:s,emits:a}=we(),o=i(t);return o||a.error(new xe(be.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:o,parentNode:oe(()=>i(o.parentNode)),connectedEdges:oe(()=>Aa([o],s.value))}}function hc(){return{doubleClick:Y(),click:Y(),mouseEnter:Y(),mouseMove:Y(),mouseLeave:Y(),contextMenu:Y(),dragStart:Y(),drag:Y(),dragStop:Y()}}function cc(e,t){const n=hc();return n.doubleClick.on(i=>{var s,a;t.nodeDoubleClick(i),(a=(s=e.events)==null?void 0:s.doubleClick)==null||a.call(s,i)}),n.click.on(i=>{var s,a;t.nodeClick(i),(a=(s=e.events)==null?void 0:s.click)==null||a.call(s,i)}),n.mouseEnter.on(i=>{var s,a;t.nodeMouseEnter(i),(a=(s=e.events)==null?void 0:s.mouseEnter)==null||a.call(s,i)}),n.mouseMove.on(i=>{var s,a;t.nodeMouseMove(i),(a=(s=e.events)==null?void 0:s.mouseMove)==null||a.call(s,i)}),n.mouseLeave.on(i=>{var s,a;t.nodeMouseLeave(i),(a=(s=e.events)==null?void 0:s.mouseLeave)==null||a.call(s,i)}),n.contextMenu.on(i=>{var s,a;t.nodeContextMenu(i),(a=(s=e.events)==null?void 0:s.contextMenu)==null||a.call(s,i)}),n.dragStart.on(i=>{var s,a;t.nodeDragStart(i),(a=(s=e.events)==null?void 0:s.dragStart)==null||a.call(s,i)}),n.drag.on(i=>{var s,a;t.nodeDrag(i),(a=(s=e.events)==null?void 0:s.drag)==null||a.call(s,i)}),n.dragStop.on(i=>{var s,a;t.nodeDragStop(i),(a=(s=e.events)==null?void 0:s.dragStop)==null||a.call(s,i)}),Object.entries(n).reduce((i,[s,a])=>(i.emit[s]=a.trigger,i.on[s]=a.on,i),{emit:{},on:{}})}function Ha(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:i,snapGrid:s,snapToGrid:a,nodesDraggable:o,emits:l}=we();return(r,u=!1)=>{const h=a.value?s.value[0]:5,c=a.value?s.value[1]:5,d=u?4:1,p=r.x*h*d,b=r.y*c*d,w=[];for(const C of e.value)if(C.draggable||o&&typeof C.draggable>"u"){const x={x:C.computedPosition.x+p,y:C.computedPosition.y+b},{computedPosition:S}=Ii(C,x,l.error,t.value,C.parentNode?i(C.parentNode):void 0);w.push({id:C.id,position:S,from:C.position,distance:{x:r.x,y:r.y},dimensions:C.dimensions})}n(w,!0,!1)}}const ni=.1,dc=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function tt(){return zn("Viewport not initialized yet."),Promise.resolve(!1)}const pc={zoomIn:tt,zoomOut:tt,zoomTo:tt,fitView:tt,setCenter:tt,fitBounds:tt,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:tt,setTransform:tt,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function fc(e){function t(i,s){return new Promise(a=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate((s==null?void 0:s.interpolate)==="linear"?Rt:dn).scaleBy(ii(e.d3Selection,s==null?void 0:s.duration,s==null?void 0:s.ease,()=>{a(!0)}),i):a(!1)})}function n(i,s,a,o){return new Promise(l=>{var r;const{x:u,y:h}=Ca({x:-i,y:-s},e.translateExtent),c=Bt.translate(-u,-h).scale(a);e.d3Selection&&e.d3Zoom?(r=e.d3Zoom)==null||r.interpolate((o==null?void 0:o.interpolate)==="linear"?Rt:dn).transform(ii(e.d3Selection,o==null?void 0:o.duration,o==null?void 0:o.ease,()=>{l(!0)}),c):l(!1)})}return oe(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:s=>t(1.2,s),zoomOut:s=>t(1/1.2,s),zoomTo:(s,a)=>new Promise(o=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate((a==null?void 0:a.interpolate)==="linear"?Rt:dn).scaleTo(ii(e.d3Selection,a==null?void 0:a.duration,a==null?void 0:a.ease,()=>{o(!0)}),s):o(!1)}),setViewport:(s,a)=>n(s.x,s.y,s.zoom,a),setTransform:(s,a)=>n(s.x,s.y,s.zoom,a),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(s={padding:ni,includeHiddenNodes:!1,duration:0})=>{var a,o;const l=[];for(const d of e.nodes)d.dimensions.width&&d.dimensions.height&&((s==null?void 0:s.includeHiddenNodes)||!d.hidden)&&(!((a=s.nodes)!=null&&a.length)||(o=s.nodes)!=null&&o.length&&s.nodes.includes(d.id))&&l.push(d);if(!l.length)return Promise.resolve(!1);const r=Ba(l),{x:u,y:h,zoom:c}=rs(r,e.dimensions.width,e.dimensions.height,s.minZoom??e.minZoom,s.maxZoom??e.maxZoom,s.padding??ni,s.offset);return n(u,h,c,s)},setCenter:(s,a,o)=>{const l=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:e.maxZoom,r=e.dimensions.width/2-s*l,u=e.dimensions.height/2-a*l;return n(r,u,l,o)},fitBounds:(s,a={padding:ni})=>{const{x:o,y:l,zoom:r}=rs(s,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,a.padding);return n(o,l,r,a)},project:s=>Ut(s,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:s=>{if(e.vueFlowRef){const{x:a,y:o}=e.vueFlowRef.getBoundingClientRect(),l={x:s.x-a,y:s.y-o};return Ut(l,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:s=>{if(e.vueFlowRef){const{x:a,y:o}=e.vueFlowRef.getBoundingClientRect(),l={x:s.x+a,y:s.y+o};return yi(l,e.viewport)}return{x:0,y:0}}}:pc)}function ii(e,t=0,n=dc,i=()=>{}){const s=typeof t=="number"&&t>0;return s||i(),s?e.transition().duration(t).ease(n).on("end",i):e}function gc(e,t,n){const i=Os(!0);return i.run(()=>{const s=()=>{i.run(()=>{let w,C,x=!!(n.nodes.value.length||n.edges.value.length);w=kt([e.modelValue,()=>{var S,m;return(m=(S=e.modelValue)==null?void 0:S.value)==null?void 0:m.length}],([S])=>{S&&Array.isArray(S)&&(C==null||C.pause(),n.setElements(S),!C&&!x&&S.length?x=!0:C==null||C.resume())}),C=kt([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([S,m])=>{var k;(k=e.modelValue)!=null&&k.value&&Array.isArray(e.modelValue.value)&&(w==null||w.pause(),e.modelValue.value=[...S,...m],Me(()=>{w==null||w.resume()}))},{immediate:x}),hn(()=>{w==null||w.stop(),C==null||C.stop()})})},a=()=>{i.run(()=>{let w,C,x=!!n.nodes.value.length;w=kt([e.nodes,()=>{var S,m;return(m=(S=e.nodes)==null?void 0:S.value)==null?void 0:m.length}],([S])=>{S&&Array.isArray(S)&&(C==null||C.pause(),n.setNodes(S),!C&&!x&&S.length?x=!0:C==null||C.resume())}),C=kt([n.nodes,()=>n.nodes.value.length],([S])=>{var m;(m=e.nodes)!=null&&m.value&&Array.isArray(e.nodes.value)&&(w==null||w.pause(),e.nodes.value=[...S],Me(()=>{w==null||w.resume()}))},{immediate:x}),hn(()=>{w==null||w.stop(),C==null||C.stop()})})},o=()=>{i.run(()=>{let w,C,x=!!n.edges.value.length;w=kt([e.edges,()=>{var S,m;return(m=(S=e.edges)==null?void 0:S.value)==null?void 0:m.length}],([S])=>{S&&Array.isArray(S)&&(C==null||C.pause(),n.setEdges(S),!C&&!x&&S.length?x=!0:C==null||C.resume())}),C=kt([n.edges,()=>n.edges.value.length],([S])=>{var m;(m=e.edges)!=null&&m.value&&Array.isArray(e.edges.value)&&(w==null||w.pause(),e.edges.value=[...S],Me(()=>{w==null||w.resume()}))},{immediate:x}),hn(()=>{w==null||w.stop(),C==null||C.stop()})})},l=()=>{i.run(()=>{ke(()=>t.maxZoom,()=>{t.maxZoom&&Ce(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},r=()=>{i.run(()=>{ke(()=>t.minZoom,()=>{t.minZoom&&Ce(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},u=()=>{i.run(()=>{ke(()=>t.translateExtent,()=>{t.translateExtent&&Ce(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},h=()=>{i.run(()=>{ke(()=>t.nodeExtent,()=>{t.nodeExtent&&Ce(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},c=()=>{i.run(()=>{ke(()=>t.applyDefault,()=>{Ce(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},d=()=>{i.run(()=>{const w=async C=>{let x=C;typeof t.autoConnect=="function"&&(x=await t.autoConnect(C)),x!==!1&&n.addEdges([x])};ke(()=>t.autoConnect,()=>{Ce(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),ke(n.autoConnect,(C,x,S)=>{C?n.onConnect(w):n.hooks.value.connect.off(w),S(()=>{n.hooks.value.connect.off(w)})},{immediate:!0})})},p=()=>{const w=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const C of Object.keys(t)){const x=C;if(!w.includes(x)){const S=me(()=>t[x]),m=n[x];bi(m)&&i.run(()=>{ke(S,k=>{Ce(k)&&(m.value=k)},{immediate:!0})})}}};(()=>{s(),a(),o(),r(),l(),u(),h(),c(),d(),p()})()}),()=>i.stop()}function kc(){return{edgesChange:Y(),nodesChange:Y(),nodeDoubleClick:Y(),nodeClick:Y(),nodeMouseEnter:Y(),nodeMouseMove:Y(),nodeMouseLeave:Y(),nodeContextMenu:Y(),nodeDragStart:Y(),nodeDrag:Y(),nodeDragStop:Y(),nodesInitialized:Y(),miniMapNodeClick:Y(),miniMapNodeDoubleClick:Y(),miniMapNodeMouseEnter:Y(),miniMapNodeMouseMove:Y(),miniMapNodeMouseLeave:Y(),connect:Y(),connectStart:Y(),connectEnd:Y(),clickConnectStart:Y(),clickConnectEnd:Y(),paneReady:Y(),init:Y(),move:Y(),moveStart:Y(),moveEnd:Y(),selectionDragStart:Y(),selectionDrag:Y(),selectionDragStop:Y(),selectionContextMenu:Y(),selectionStart:Y(),selectionEnd:Y(),viewportChangeStart:Y(),viewportChange:Y(),viewportChangeEnd:Y(),paneScroll:Y(),paneClick:Y(),paneContextMenu:Y(),paneMouseEnter:Y(),paneMouseMove:Y(),paneMouseLeave:Y(),edgeContextMenu:Y(),edgeMouseEnter:Y(),edgeMouseMove:Y(),edgeMouseLeave:Y(),edgeDoubleClick:Y(),edgeClick:Y(),edgeUpdateStart:Y(),edgeUpdate:Y(),edgeUpdateEnd:Y(),updateNodeInternals:Y(),error:Y(e=>zn(e.message))}}function Ec(e,t){bo(()=>{for(const[n,i]of Object.entries(t.value)){const s=a=>{e(n,a)};i.fns.add(s),Dn(()=>{i.off(s)})}})}function La(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Mi.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:zt.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:rt.Bezier,style:{}},connectionMode:ot.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Sn()?"Meta":"Control",zoomActivationKeyCode:Sn()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:kc(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const yc=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function vc(e,t,n){const i=fc(e),s=g=>{const f=g??[];e.hooks.updateNodeInternals.trigger(f)},a=g=>Ph(g,e.nodes,e.edges),o=g=>Th(g,e.nodes,e.edges),l=g=>Aa(g,e.edges),r=({id:g,type:f,nodeId:v})=>{var y;return Array.from(((y=e.connectionLookup.get(`${v}-${f}-${g??null}`))==null?void 0:y.values())??[])},u=g=>{if(g)return t.value.get(g)},h=g=>{if(g)return n.value.get(g)},c=(g,f,v)=>{var y,D;const J=[];for(const W of g){const Z={id:W.id,type:"position",dragging:v,from:W.from};if(f&&(Z.position=W.position,W.parentNode)){const ne=u(W.parentNode);Z.position={x:Z.position.x-(((y=ne==null?void 0:ne.computedPosition)==null?void 0:y.x)??0),y:Z.position.y-(((D=ne==null?void 0:ne.computedPosition)==null?void 0:D.y)??0)}}J.push(Z)}J!=null&&J.length&&e.hooks.nodesChange.trigger(J)},d=g=>{if(!e.vueFlowRef)return;const f=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!f)return;const v=window.getComputedStyle(f),{m22:y}=new window.DOMMatrixReadOnly(v.transform),D=[];for(const J of g){const W=J,Z=u(W.id);if(Z){const ne=Pn(W.nodeElement);if(!!(ne.width&&ne.height&&(Z.dimensions.width!==ne.width||Z.dimensions.height!==ne.height||W.forceUpdate))){const pe=W.nodeElement.getBoundingClientRect();Z.dimensions=ne,Z.handleBounds.source=ys("source",W.nodeElement,pe,y,Z.id),Z.handleBounds.target=ys("target",W.nodeElement,pe,y,Z.id),D.push({id:Z.id,type:"dimensions",dimensions:ne})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&i.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),D.length&&e.hooks.nodesChange.trigger(D)},p=(g,f)=>{const v=new Set,y=new Set;for(const W of g)dt(W)?v.add(W.id):lt(W)&&y.add(W.id);const D=it(t.value,v,!0),J=it(n.value,y);if(e.multiSelectionActive){for(const W of v)D.push(nt(W,f));for(const W of y)J.push(nt(W,f))}D.length&&e.hooks.nodesChange.trigger(D),J.length&&e.hooks.edgesChange.trigger(J)},b=g=>{if(e.multiSelectionActive){const f=g.map(v=>nt(v.id,!0));e.hooks.nodesChange.trigger(f);return}e.hooks.nodesChange.trigger(it(t.value,new Set(g.map(f=>f.id)),!0)),e.hooks.edgesChange.trigger(it(n.value))},w=g=>{if(e.multiSelectionActive){const f=g.map(v=>nt(v.id,!0));e.hooks.edgesChange.trigger(f);return}e.hooks.edgesChange.trigger(it(n.value,new Set(g.map(f=>f.id)))),e.hooks.nodesChange.trigger(it(t.value,new Set,!0))},C=g=>{p(g,!0)},x=g=>{const v=(g||e.nodes).map(y=>(y.selected=!1,nt(y.id,!1)));e.hooks.nodesChange.trigger(v)},S=g=>{const v=(g||e.edges).map(y=>(y.selected=!1,nt(y.id,!1)));e.hooks.edgesChange.trigger(v)},m=g=>{if(!g||!g.length)return p([],!1);const f=g.reduce((v,y)=>{const D=nt(y.id,!1);return dt(y)?v.nodes.push(D):v.edges.push(D),v},{nodes:[],edges:[]});f.nodes.length&&e.hooks.nodesChange.trigger(f.nodes),f.edges.length&&e.hooks.edgesChange.trigger(f.edges)},k=g=>{var f;(f=e.d3Zoom)==null||f.scaleExtent([g,e.maxZoom]),e.minZoom=g},N=g=>{var f;(f=e.d3Zoom)==null||f.scaleExtent([e.minZoom,g]),e.maxZoom=g},$=g=>{var f;(f=e.d3Zoom)==null||f.translateExtent(g),e.translateExtent=g},T=g=>{e.nodeExtent=g,s()},P=g=>{var f;(f=e.d3Zoom)==null||f.clickDistance(g)},G=g=>{e.nodesDraggable=g,e.nodesConnectable=g,e.elementsSelectable=g},O=g=>{const f=g instanceof Function?g(e.nodes):g;!e.initialized&&!f.length||(e.nodes=vs(f,u,e.hooks.error.trigger))},B=g=>{const f=g instanceof Function?g(e.edges):g;if(!e.initialized&&!f.length)return;const v=ti(f,e.isValidConnection,u,h,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);ei(e.connectionLookup,n.value,v),e.edges=v},F=g=>{const f=g instanceof Function?g([...e.nodes,...e.edges]):g;!e.initialized&&!f.length||(O(f.filter(dt)),B(f.filter(lt)))},X=g=>{let f=g instanceof Function?g(e.nodes):g;f=Array.isArray(f)?f:[f];const v=vs(f,u,e.hooks.error.trigger),y=[];for(const D of v)y.push(cs(D));y.length&&e.hooks.nodesChange.trigger(y)},E=g=>{let f=g instanceof Function?g(e.edges):g;f=Array.isArray(f)?f:[f];const v=ti(f,e.isValidConnection,u,h,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),y=[];for(const D of v)y.push(cs(D));y.length&&e.hooks.edgesChange.trigger(y)},A=(g,f=!0,v=!1)=>{const y=g instanceof Function?g(e.nodes):g,D=Array.isArray(y)?y:[y],J=[],W=[];function Z(ue){const pe=l(ue);for(const Fe of pe)(!Ce(Fe.deletable)||Fe.deletable)&&W.push(ps(Fe.id,Fe.source,Fe.target,Fe.sourceHandle,Fe.targetHandle))}function ne(ue){const pe=[];for(const Fe of e.nodes)Fe.parentNode===ue&&pe.push(Fe);if(pe.length){for(const Fe of pe)J.push(ds(Fe.id));f&&Z(pe);for(const Fe of pe)ne(Fe.id)}}for(const ue of D){const pe=typeof ue=="string"?u(ue):ue;pe&&(Ce(pe.deletable)&&!pe.deletable||(J.push(ds(pe.id)),f&&Z([pe]),v&&ne(pe.id)))}W.length&&e.hooks.edgesChange.trigger(W),J.length&&e.hooks.nodesChange.trigger(J)},_=g=>{const f=g instanceof Function?g(e.edges):g,v=Array.isArray(f)?f:[f],y=[];for(const D of v){const J=typeof D=="string"?h(D):D;J&&(Ce(J.deletable)&&!J.deletable||y.push(ps(typeof D=="string"?D:D.id,J.source,J.target,J.sourceHandle,J.targetHandle)))}e.hooks.edgesChange.trigger(y)},M=(g,f,v=!0)=>{const y=h(g.id);if(!y)return!1;const D=e.edges.indexOf(y),J=sc(g,f,y,v,e.hooks.error.trigger);if(J){const[W]=ti([J],e.isValidConnection,u,h,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((Z,ne)=>ne===D?W:Z),ei(e.connectionLookup,n.value,[W]),W}return!1},R=(g,f,v={replace:!1})=>{const y=h(g);if(!y)return;const D=typeof f=="function"?f(y):f;y.data=v.replace?D:{...y.data,...D}},L=g=>hs(g,e.nodes),V=g=>{const f=hs(g,e.edges);return ei(e.connectionLookup,n.value,f),f},U=(g,f,v={replace:!1})=>{const y=u(g);if(!y)return;const D=typeof f=="function"?f(y):f;v.replace?e.nodes.splice(e.nodes.indexOf(y),1,D):Object.assign(y,D)},ee=(g,f,v={replace:!1})=>{const y=u(g);if(!y)return;const D=typeof f=="function"?f(y):f;y.data=v.replace?D:{...y.data,...D}},ae=(g,f,v=!1)=>{v?e.connectionClickStartHandle=g:e.connectionStartHandle=g,e.connectionEndHandle=null,e.connectionStatus=null,f&&(e.connectionPosition=f)},z=(g,f=null,v=null)=>{e.connectionStartHandle&&(e.connectionPosition=g,e.connectionEndHandle=f,e.connectionStatus=v)},H=(g,f)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,f?e.connectionClickStartHandle=null:e.connectionStartHandle=null},Q=g=>{const f=Mh(g),v=f?null:Pt(g)?g:u(g.id);return!f&&!v?[null,null,f]:[f?g:bn(v),v,f]},le=(g,f=!0,v=e.nodes)=>{const[y,D,J]=Q(g);if(!y)return[];const W=[];for(const Z of v||e.nodes){if(!J&&(Z.id===D.id||!Z.computedPosition))continue;const ne=bn(Z),ue=xn(ne,y);(f&&ue>0||ue>=Number(y.width)*Number(y.height))&&W.push(Z)}return W},re=(g,f,v=!0)=>{const[y]=Q(g);if(!y)return!1;const D=xn(y,f);return v&&D>0||D>=Number(y.width)*Number(y.height)},te=g=>{const{viewport:f,dimensions:v,d3Zoom:y,d3Selection:D,translateExtent:J}=e;if(!y||!D||!g.x&&!g.y)return!1;const W=Bt.translate(f.x+g.x,f.y+g.y).scale(f.zoom),Z=[[0,0],[v.width,v.height]],ne=y.constrain()(W,Z,J),ue=e.viewport.x!==ne.x||e.viewport.y!==ne.y||e.viewport.zoom!==ne.k;return y.transform(D,ne),ue},de=g=>{const f=g instanceof Function?g(e):g,v=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];Ce(f.defaultEdgeOptions)&&(e.defaultEdgeOptions=f.defaultEdgeOptions);const y=f.modelValue||f.nodes||f.edges?[]:void 0;y&&(f.modelValue&&y.push(...f.modelValue),f.nodes&&y.push(...f.nodes),f.edges&&y.push(...f.edges),F(y));const D=()=>{Ce(f.maxZoom)&&N(f.maxZoom),Ce(f.minZoom)&&k(f.minZoom),Ce(f.translateExtent)&&$(f.translateExtent)};for(const J of Object.keys(f)){const W=J,Z=f[W];![...yc,...v].includes(W)&&Ce(Z)&&(e[W]=Z)}li(()=>e.d3Zoom).not.toBeNull().then(D),e.initialized||(e.initialized=!0)};return{updateNodePositions:c,updateNodeDimensions:d,setElements:F,setNodes:O,setEdges:B,addNodes:X,addEdges:E,removeNodes:A,removeEdges:_,findNode:u,findEdge:h,updateEdge:M,updateEdgeData:R,updateNode:U,updateNodeData:ee,applyEdgeChanges:V,applyNodeChanges:L,addSelectedElements:C,addSelectedNodes:b,addSelectedEdges:w,setMinZoom:k,setMaxZoom:N,setTranslateExtent:$,setNodeExtent:T,setPaneClickDistance:P,removeSelectedElements:m,removeSelectedNodes:x,removeSelectedEdges:S,startConnection:ae,updateConnection:z,endConnection:H,setInteractive:G,setState:de,getIntersectingNodes:le,getIncomers:a,getOutgoers:o,getConnectedEdges:l,getHandleConnections:r,isNodeIntersecting:re,panBy:te,fitView:g=>i.value.fitView(g),zoomIn:g=>i.value.zoomIn(g),zoomOut:g=>i.value.zoomOut(g),zoomTo:(g,f)=>i.value.zoomTo(g,f),setViewport:(g,f)=>i.value.setViewport(g,f),setTransform:(g,f)=>i.value.setTransform(g,f),getViewport:()=>i.value.getViewport(),getTransform:()=>i.value.getTransform(),setCenter:(g,f,v)=>i.value.setCenter(g,f,v),fitBounds:(g,f)=>i.value.fitBounds(g,f),project:g=>i.value.project(g),screenToFlowCoordinate:g=>i.value.screenToFlowCoordinate(g),flowToScreenCoordinate:g=>i.value.flowToScreenCoordinate(g),toObject:()=>{const g=[],f=[];for(const v of e.nodes){const{computedPosition:y,handleBounds:D,selected:J,dimensions:W,isParent:Z,resizing:ne,dragging:ue,events:pe,...Fe}=v;g.push(Fe)}for(const v of e.edges){const{selected:y,sourceNode:D,targetNode:J,events:W,...Z}=v;f.push(Z)}return JSON.parse(JSON.stringify({nodes:g,edges:f,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:g=>new Promise(f=>{const{nodes:v,edges:y,position:D,zoom:J,viewport:W}=g;if(v&&O(v),y&&B(y),W!=null&&W.x&&(W!=null&&W.y)||D){const Z=(W==null?void 0:W.x)||D[0],ne=(W==null?void 0:W.y)||D[1],ue=(W==null?void 0:W.zoom)||J||e.viewport.zoom;return li(()=>i.value.viewportInitialized).toBe(!0).then(()=>{i.value.setViewport({x:Z,y:ne,zoom:ue}).then(()=>{f(!0)})})}else f(!0)}),updateNodeInternals:s,viewportHelper:i,$reset:()=>{const g=La();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const f=Bt.translate(g.defaultViewport.x??0,g.defaultViewport.y??0).scale(et(g.defaultViewport.zoom??1,g.minZoom,g.maxZoom)),v=e.viewportRef.getBoundingClientRect(),y=[[0,0],[v.width,v.height]],D=e.d3Zoom.constrain()(f,y,g.translateExtent);e.d3Zoom.transform(e.d3Selection,D)}de(g)},$destroy:()=>{}}}const mc=["data-id","data-handleid","data-nodeid","data-handlepos"],wc={name:"Handle",compatConfig:{MODE:3}},_e=Ee({...wc,props:{id:{default:null},type:{},position:{default:()=>q.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=wo(e,["position","connectable","connectableStart","connectableEnd","id"]),i=me(()=>n.type??"source"),s=me(()=>n.isValidConnection??null),{id:a,connectionStartHandle:o,connectionClickStartHandle:l,connectionEndHandle:r,vueFlowRef:u,nodesConnectable:h,noDragClassName:c,noPanClassName:d}=we(),{id:p,node:b,nodeEl:w,connectedEdges:C}=Va(),x=ge(),S=me(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),m=me(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),k=me(()=>{var B,F,X,E,A,_;return((B=o.value)==null?void 0:B.nodeId)===p&&((F=o.value)==null?void 0:F.id)===e.id&&((X=o.value)==null?void 0:X.type)===i.value||((E=r.value)==null?void 0:E.nodeId)===p&&((A=r.value)==null?void 0:A.id)===e.id&&((_=r.value)==null?void 0:_.type)===i.value}),N=me(()=>{var B,F,X;return((B=l.value)==null?void 0:B.nodeId)===p&&((F=l.value)==null?void 0:F.id)===e.id&&((X=l.value)==null?void 0:X.type)===i.value}),{handlePointerDown:$,handleClick:T}=Oa({nodeId:p,handleId:e.id,isValidConnection:s,type:i}),P=oe(()=>typeof e.connectable=="string"&&e.connectable==="single"?!C.value.some(B=>{const F=B[`${i.value}Handle`];return B[i.value]!==p?!1:F?F===e.id:!0}):typeof e.connectable=="number"?C.value.filter(B=>{const F=B[`${i.value}Handle`];return B[i.value]!==p?!1:F?F===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(b,C.value):Ce(e.connectable)?e.connectable:h.value);Ge(()=>{var B;if(!b.dimensions.width||!b.dimensions.height)return;const F=(B=b.handleBounds[i.value])==null?void 0:B.find(L=>L.id===e.id);if(!u.value||F)return;const X=u.value.querySelector(".vue-flow__transformationpane");if(!w.value||!x.value||!X||!e.id)return;const E=w.value.getBoundingClientRect(),A=x.value.getBoundingClientRect(),_=window.getComputedStyle(X),{m22:M}=new window.DOMMatrixReadOnly(_.transform),R={id:e.id,position:e.position,x:(A.left-E.left)/M,y:(A.top-E.top)/M,type:i.value,nodeId:p,...Pn(x.value)};b.handleBounds[i.value]=[...b.handleBounds[i.value]??[],R]});function G(B){const F=Ti(B);P.value&&S.value&&(F&&B.button===0||!F)&&$(B)}function O(B){!p||!l.value&&!S.value||P.value&&T(B)}return t({handleClick:T,handlePointerDown:$,onClick:O,onPointerDown:G}),(B,F)=>(se(),he("div",{ref_key:"handle",ref:x,"data-id":`${I(a)}-${I(p)}-${e.id}-${i.value}`,"data-handleid":e.id,"data-nodeid":I(p),"data-handlepos":B.position,class:Xe(["vue-flow__handle",[`vue-flow__handle-${B.position}`,`vue-flow__handle-${e.id}`,I(c),I(d),i.value,{connectable:P.value,connecting:N.value,connectablestart:S.value,connectableend:m.value,connectionindicator:P.value&&(S.value&&!k.value||m.value&&k.value)}]]),onMousedown:G,onTouchstartPassive:G,onClick:O},[ze(B.$slots,"default",{id:B.id})],42,mc))}}),Vn=function({sourcePosition:e=q.Bottom,targetPosition:t=q.Top,label:n,connectable:i=!0,isValidTargetPos:s,isValidSourcePos:a,data:o}){const l=o.label??n;return[ye(_e,{type:"target",position:t,connectable:i,isValidConnection:s}),typeof l!="string"&&l?ye(l):ye(De,[l]),ye(_e,{type:"source",position:e,connectable:i,isValidConnection:a})]};Vn.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];Vn.inheritAttrs=!1;Vn.compatConfig={MODE:3};const Fc=Vn,Hn=function({targetPosition:e=q.Top,label:t,connectable:n=!0,isValidTargetPos:i,data:s}){const a=s.label??t;return[ye(_e,{type:"target",position:e,connectable:n,isValidConnection:i}),typeof a!="string"&&a?ye(a):ye(De,[a])]};Hn.props=["targetPosition","label","isValidTargetPos","connectable","data"];Hn.inheritAttrs=!1;Hn.compatConfig={MODE:3};const Cc=Hn,Ln=function({sourcePosition:e=q.Bottom,label:t,connectable:n=!0,isValidSourcePos:i,data:s}){const a=s.label??t;return[typeof a!="string"&&a?ye(a):ye(De,[a]),ye(_e,{type:"source",position:e,connectable:n,isValidConnection:i})]};Ln.props=["sourcePosition","label","isValidSourcePos","connectable","data"];Ln.inheritAttrs=!1;Ln.compatConfig={MODE:3};const _c=Ln,bc=["transform"],xc=["width","height","x","y","rx","ry"],Sc=["y"],Bc={name:"EdgeText",compatConfig:{MODE:3}},Nc=Ee({...Bc,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=ge({x:0,y:0,width:0,height:0}),n=ge(null),i=oe(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);Ge(s),ke([()=>e.x,()=>e.y,n,()=>e.label],s);function s(){if(!n.value)return;const a=n.value.getBBox();(a.width!==t.value.width||a.height!==t.value.height)&&(t.value=a)}return(a,o)=>(se(),he("g",{transform:i.value,class:"vue-flow__edge-textwrapper"},[a.labelShowBg?(se(),he("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*a.labelBgPadding[0]}px`,height:`${t.value.height+2*a.labelBgPadding[1]}px`,x:-a.labelBgPadding[0],y:-a.labelBgPadding[1],style:Ie(a.labelBgStyle),rx:a.labelBgBorderRadius,ry:a.labelBgBorderRadius},null,12,xc)):Se("",!0),ve("text",Ls(a.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:a.labelStyle}),[ze(a.$slots,"default",{},()=>[typeof a.label!="string"?(se(),at(Ao(a.label),{key:0})):(se(),he(De,{key:1},[vt(Ht(a.label),1)],64))])],16,Sc)],8,bc))}}),Ac=["id","d","marker-end","marker-start"],Dc=["d","stroke-width"],$c={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},qn=Ee({...$c,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=ge(null),i=ge(null),s=ge(null),a=No();return t({pathEl:n,interactionEl:i,labelEl:s}),(o,l)=>(se(),he(De,null,[ve("path",Ls(I(a),{id:o.id,ref_key:"pathEl",ref:n,d:o.path,class:"vue-flow__edge-path","marker-end":o.markerEnd,"marker-start":o.markerStart}),null,16,Ac),o.interactionWidth?(se(),he("path",{key:0,ref_key:"interactionEl",ref:i,fill:"none",d:o.path,"stroke-width":o.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,Dc)):Se("",!0),o.label&&o.labelX&&o.labelY?(se(),at(Nc,{key:1,ref_key:"labelEl",ref:s,x:o.labelX,y:o.labelY,label:o.label,"label-show-bg":o.labelShowBg,"label-bg-style":o.labelBgStyle,"label-bg-padding":o.labelBgPadding,"label-bg-border-radius":o.labelBgBorderRadius,"label-style":o.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):Se("",!0)],64))}});function qa({sourceX:e,sourceY:t,targetX:n,targetY:i}){const s=Math.abs(n-e)/2,a=n<e?n+s:n-s,o=Math.abs(i-t)/2,l=i<t?i+o:i-o;return[a,l,s,o]}function Ya({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:o,targetControlY:l}){const r=e*.125+s*.375+o*.375+n*.125,u=t*.125+a*.375+l*.375+i*.125,h=Math.abs(r-e),c=Math.abs(u-t);return[r,u,h,c]}function rn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Cs({pos:e,x1:t,y1:n,x2:i,y2:s,c:a}){let o,l;switch(e){case q.Left:o=t-rn(t-i,a),l=n;break;case q.Right:o=t+rn(i-t,a),l=n;break;case q.Top:o=t,l=n-rn(n-s,a);break;case q.Bottom:o=t,l=n+rn(s-n,a);break}return[o,l]}function Yn(e){const{sourceX:t,sourceY:n,sourcePosition:i=q.Bottom,targetX:s,targetY:a,targetPosition:o=q.Top,curvature:l=.25}=e,[r,u]=Cs({pos:i,x1:t,y1:n,x2:s,y2:a,c:l}),[h,c]=Cs({pos:o,x1:s,y1:a,x2:t,y2:n,c:l}),[d,p,b,w]=Ya({sourceX:t,sourceY:n,targetX:s,targetY:a,sourceControlX:r,sourceControlY:u,targetControlX:h,targetControlY:c});return[`M${t},${n} C${r},${u} ${h},${c} ${s},${a}`,d,p,b,w]}function _s({pos:e,x1:t,y1:n,x2:i,y2:s}){let a,o;switch(e){case q.Left:case q.Right:a=.5*(t+i),o=n;break;case q.Top:case q.Bottom:a=t,o=.5*(n+s);break}return[a,o]}function Xa(e){const{sourceX:t,sourceY:n,sourcePosition:i=q.Bottom,targetX:s,targetY:a,targetPosition:o=q.Top}=e,[l,r]=_s({pos:i,x1:t,y1:n,x2:s,y2:a}),[u,h]=_s({pos:o,x1:s,y1:a,x2:t,y2:n}),[c,d,p,b]=Ya({sourceX:t,sourceY:n,targetX:s,targetY:a,sourceControlX:l,sourceControlY:r,targetControlX:u,targetControlY:h});return[`M${t},${n} C${l},${r} ${u},${h} ${s},${a}`,c,d,p,b]}const bs={[q.Left]:{x:-1,y:0},[q.Right]:{x:1,y:0},[q.Top]:{x:0,y:-1},[q.Bottom]:{x:0,y:1}};function Mc({source:e,sourcePosition:t=q.Bottom,target:n}){return t===q.Left||t===q.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function xs(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function Ic({source:e,sourcePosition:t=q.Bottom,target:n,targetPosition:i=q.Top,center:s,offset:a}){const o=bs[t],l=bs[i],r={x:e.x+o.x*a,y:e.y+o.y*a},u={x:n.x+l.x*a,y:n.y+l.y*a},h=Mc({source:r,sourcePosition:t,target:u}),c=h.x!==0?"x":"y",d=h[c];let p,b,w;const C={x:0,y:0},x={x:0,y:0},[S,m,k,N]=qa({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[c]*l[c]===-1){b=s.x??S,w=s.y??m;const T=[{x:b,y:r.y},{x:b,y:u.y}],P=[{x:r.x,y:w},{x:u.x,y:w}];o[c]===d?p=c==="x"?T:P:p=c==="x"?P:T}else{const T=[{x:r.x,y:u.y}],P=[{x:u.x,y:r.y}];if(c==="x"?p=o.x===d?P:T:p=o.y===d?T:P,t===i){const X=Math.abs(e[c]-n[c]);if(X<=a){const E=Math.min(a-1,a-X);o[c]===d?C[c]=(r[c]>e[c]?-1:1)*E:x[c]=(u[c]>n[c]?-1:1)*E}}if(t!==i){const X=c==="x"?"y":"x",E=o[c]===l[X],A=r[X]>u[X],_=r[X]<u[X];(o[c]===1&&(!E&&A||E&&_)||o[c]!==1&&(!E&&_||E&&A))&&(p=c==="x"?T:P)}const G={x:r.x+C.x,y:r.y+C.y},O={x:u.x+x.x,y:u.y+x.y},B=Math.max(Math.abs(G.x-p[0].x),Math.abs(O.x-p[0].x)),F=Math.max(Math.abs(G.y-p[0].y),Math.abs(O.y-p[0].y));B>=F?(b=(G.x+O.x)/2,w=p[0].y):(b=p[0].x,w=(G.y+O.y)/2)}return[[e,{x:r.x+C.x,y:r.y+C.y},...p,{x:u.x+x.x,y:u.y+x.y},n],b,w,k,N]}function Tc(e,t,n,i){const s=Math.min(xs(e,t)/2,xs(t,n)/2,i),{x:a,y:o}=t;if(e.x===a&&a===n.x||e.y===o&&o===n.y)return`L${a} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,h=e.y<n.y?1:-1;return`L ${a+s*u},${o}Q ${a},${o} ${a},${o+s*h}`}const l=e.x<n.x?1:-1,r=e.y<n.y?-1:1;return`L ${a},${o+s*r}Q ${a},${o} ${a+s*l},${o}`}function wi(e){const{sourceX:t,sourceY:n,sourcePosition:i=q.Bottom,targetX:s,targetY:a,targetPosition:o=q.Top,borderRadius:l=5,centerX:r,centerY:u,offset:h=20}=e,[c,d,p,b,w]=Ic({source:{x:t,y:n},sourcePosition:i,target:{x:s,y:a},targetPosition:o,center:{x:r,y:u},offset:h});return[c.reduce((x,S,m)=>{let k;return m>0&&m<c.length-1?k=Tc(c[m-1],S,c[m+1],l):k=`${m===0?"M":"L"}${S.x} ${S.y}`,x+=k,x},""),d,p,b,w]}function Pc(e){const{sourceX:t,sourceY:n,targetX:i,targetY:s}=e,[a,o,l,r]=qa({sourceX:t,sourceY:n,targetX:i,targetY:s});return[`M ${t},${n}L ${i},${s}`,a,o,l,r]}const Rc=Ee({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,i,s]=Pc(e);return ye(qn,{path:n,labelX:i,labelY:s,...t,...e})}}}),zc=Rc,Oc=Ee({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,i,s]=wi({...e,sourcePosition:e.sourcePosition??q.Bottom,targetPosition:e.targetPosition??q.Top});return ye(qn,{path:n,labelX:i,labelY:s,...t,...e})}}}),Ga=Oc,Vc=Ee({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>ye(Ga,{...e,...t,borderRadius:0})}}),Hc=Vc,Lc=Ee({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,i,s]=Yn({...e,sourcePosition:e.sourcePosition??q.Bottom,targetPosition:e.targetPosition??q.Top});return ye(qn,{path:n,labelX:i,labelY:s,...t,...e})}}}),qc=Lc,Yc=Ee({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,i,s]=Xa({...e,sourcePosition:e.sourcePosition??q.Bottom,targetPosition:e.targetPosition??q.Top});return ye(qn,{path:n,labelX:i,labelY:s,...t,...e})}}}),Xc=Yc,Gc={input:_c,default:Fc,output:Cc},Uc={default:qc,straight:zc,step:Hc,smoothstep:Ga,simplebezier:Xc};function Wc(e,t,n){const i=oe(()=>w=>t.value.get(w)),s=oe(()=>w=>n.value.get(w)),a=oe(()=>{const w={...Uc,...e.edgeTypes},C=Object.keys(w);for(const x of e.edges)x.type&&!C.includes(x.type)&&(w[x.type]=x.type);return w}),o=oe(()=>{const w={...Gc,...e.nodeTypes},C=Object.keys(w);for(const x of e.nodes)x.type&&!C.includes(x.type)&&(w[x.type]=x.type);return w}),l=oe(()=>e.onlyRenderVisibleElements?Na(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),r=oe(()=>{if(e.onlyRenderVisibleElements){const w=[];for(const C of e.edges){const x=t.value.get(C.source),S=t.value.get(C.target);Xh({sourcePos:x.computedPosition||{x:0,y:0},targetPos:S.computedPosition||{x:0,y:0},sourceWidth:x.dimensions.width,sourceHeight:x.dimensions.height,targetWidth:S.dimensions.width,targetHeight:S.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&w.push(C)}return w}return e.edges}),u=oe(()=>[...l.value,...r.value]),h=oe(()=>{const w=[];for(const C of e.nodes)C.selected&&w.push(C);return w}),c=oe(()=>{const w=[];for(const C of e.edges)C.selected&&w.push(C);return w}),d=oe(()=>[...h.value,...c.value]),p=oe(()=>{const w=[];for(const C of e.nodes)C.dimensions.width&&C.dimensions.height&&C.handleBounds!==void 0&&w.push(C);return w}),b=oe(()=>l.value.length>0&&p.value.length===l.value.length);return{getNode:i,getEdge:s,getElements:u,getEdgeTypes:a,getNodeTypes:o,getEdges:r,getNodes:l,getSelectedElements:d,getSelectedNodes:h,getSelectedEdges:c,getNodesInitialized:p,areNodesInitialized:b}}class ut{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=Jt())==null?void 0:t.appContext.app,i=(n==null?void 0:n.config.globalProperties.$vueFlowStorage)??ut.instance;return ut.instance=i??new ut,n&&(n.config.globalProperties.$vueFlowStorage=ut.instance),ut.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const i=La(),s=_o(i),a={};for(const[d,p]of Object.entries(s.hooks)){const b=`on${d.charAt(0).toUpperCase()+d.slice(1)}`;a[b]=p.on}const o={};for(const[d,p]of Object.entries(s.hooks))o[d]=p.trigger;const l=oe(()=>{const d=new Map;for(const p of s.nodes)d.set(p.id,p);return d}),r=oe(()=>{const d=new Map;for(const p of s.edges)d.set(p.id,p);return d}),u=Wc(s,l,r),h=vc(s,l,r);h.setState({...s,...n});const c={...a,...u,...h,...Lo(s),nodeLookup:l,edgeLookup:r,emits:o,id:t,vueFlowVersion:"1.45.0",$destroy:()=>{this.remove(t)}};return this.set(t,c),c}getId(){return`vue-flow-${this.currentId++}`}}function we(e){const t=ut.getInstance(),n=Vs(),i=typeof e=="object",s=i?e:{id:e},a=s.id,o=a??(n==null?void 0:n.vueFlowId);let l;if(n){const r=gt(Fs,null);typeof r<"u"&&r!==null&&(!o||r.id===o)&&(l=r)}if(l||o&&(l=t.get(o)),!l||o&&l.id!==o){const r=a??t.getId(),u=t.create(r,s);l=u,(n??Os(!0)).run(()=>{ke(u.applyDefault,(c,d,p)=>{const b=C=>{u.applyNodeChanges(C)},w=C=>{u.applyEdgeChanges(C)};c?(u.onNodesChange(b),u.onEdgesChange(w)):(u.hooks.value.nodesChange.off(b),u.hooks.value.edgesChange.off(w)),p(()=>{u.hooks.value.nodesChange.off(b),u.hooks.value.edgesChange.off(w)})},{immediate:!0}),Dn(()=>{if(l){const c=t.get(l.id);c?c.$destroy():zn(`No store instance found for id ${l.id} in storage.`)}})})}else i&&l.setState(s);if(n&&(bt(Fs,l),n.vueFlowId=l.id),i){const r=Jt();(r==null?void 0:r.type.name)!=="VueFlow"&&l.emits.error(new xe(be.USEVUEFLOW_OPTIONS))}return l}function Zc(e){const{emits:t,dimensions:n}=we();let i;Ge(()=>{const s=e.value,a=()=>{if(!s)return;const o=Pn(s);(o.width===0||o.height===0)&&t.error(new xe(be.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:o.width||500,height:o.height||500}};a(),window.addEventListener("resize",a),s&&(i=new ResizeObserver(()=>a()),i.observe(s)),Hs(()=>{window.removeEventListener("resize",a),i&&s&&i.unobserve(s)})})}const Kc={name:"UserSelection",compatConfig:{MODE:3}},Jc=Ee({...Kc,props:{userSelectionRect:{}},setup(e){return(t,n)=>(se(),he("div",{class:"vue-flow__selection vue-flow__container",style:Ie({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),Qc=["tabIndex"],jc={name:"NodesSelection",compatConfig:{MODE:3}},ed=Ee({...jc,setup(e){const{emits:t,viewport:n,getSelectedNodes:i,noPanClassName:s,disableKeyboardA11y:a,userSelectionActive:o}=we(),l=Ha(),r=ge(null),u=Ra({el:r,onStart(b){t.selectionDragStart(b)},onDrag(b){t.selectionDrag(b)},onStop(b){t.selectionDragStop(b)}});Ge(()=>{var b;a.value||(b=r.value)==null||b.focus({preventScroll:!0})});const h=oe(()=>Ba(i.value)),c=oe(()=>({width:`${h.value.width}px`,height:`${h.value.height}px`,top:`${h.value.y}px`,left:`${h.value.x}px`}));function d(b){t.selectionContextMenu({event:b,nodes:i.value})}function p(b){a||Ft[b.key]&&(b.preventDefault(),l({x:Ft[b.key].x,y:Ft[b.key].y},b.shiftKey))}return(b,w)=>!I(o)&&h.value.width&&h.value.height?(se(),he("div",{key:0,class:Xe(["vue-flow__nodesselection vue-flow__container",I(s)]),style:Ie({transform:`translate(${I(n).x}px,${I(n).y}px) scale(${I(n).zoom})`})},[ve("div",{ref_key:"el",ref:r,class:Xe([{dragging:I(u)},"vue-flow__nodesselection-rect"]),style:Ie(c.value),tabIndex:I(a)?void 0:-1,onContextmenu:d,onKeydown:p},null,46,Qc)],6)):Se("",!0)}});function td(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const nd={name:"Pane",compatConfig:{MODE:3}},id=Ee({...nd,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:i,emits:s,userSelectionActive:a,removeSelectedElements:o,userSelectionRect:l,elementsSelectable:r,nodesSelectionActive:u,getSelectedEdges:h,getSelectedNodes:c,removeNodes:d,removeEdges:p,selectionMode:b,deleteKeyCode:w,multiSelectionKeyCode:C,multiSelectionActive:x,edgeLookup:S,nodeLookup:m,connectionLookup:k,defaultEdgeOptions:N,connectionStartHandle:$}=we(),T=ge(null),P=ge(new Set),G=ge(new Set),O=ge(),B=me(()=>r.value&&(e.isSelecting||a.value)),F=me(()=>$.value!==null);let X=!1,E=!1;const A=Ot(w,{actInsideInputWithModifier:!1}),_=Ot(C);ke(A,z=>{z&&(d(c.value),p(h.value),u.value=!1)}),ke(_,z=>{x.value=z});function M(z,H){return Q=>{Q.target===H&&(z==null||z(Q))}}function R(z){if(X||F.value){X=!1;return}s.paneClick(z),o(),u.value=!1}function L(z){z.preventDefault(),z.stopPropagation(),s.paneContextMenu(z)}function V(z){s.paneScroll(z)}function U(z){var H,Q,le;if(O.value=(H=t.value)==null?void 0:H.getBoundingClientRect(),!r.value||!e.isSelecting||z.button!==0||z.target!==T.value||!O.value)return;(le=(Q=z.target)==null?void 0:Q.setPointerCapture)==null||le.call(Q,z.pointerId);const{x:re,y:te}=td(z,O.value);E=!0,X=!1,o(),l.value={width:0,height:0,startX:re,startY:te,x:re,y:te},s.selectionStart(z)}function ee(z){var H;if(!O.value||!l.value)return;X=!0;const{x:Q,y:le}=qe(z,O.value),{startX:re=0,startY:te=0}=l.value,de={startX:re,startY:te,x:Q<re?Q:re,y:le<te?le:te,width:Math.abs(Q-re),height:Math.abs(le-te)},K=P.value,j=G.value;P.value=new Set(Na(n.value,de,i.value,b.value===Mi.Partial,!0).map(g=>g.id)),G.value=new Set;const ie=((H=N.value)==null?void 0:H.selectable)??!0;for(const g of P.value){const f=k.value.get(g);if(f)for(const{edgeId:v}of f.values()){const y=S.value.get(v);y&&(y.selectable??ie)&&G.value.add(v)}}if(!ws(K,P.value)){const g=it(m.value,P.value,!0);s.nodesChange(g)}if(!ws(j,G.value)){const g=it(S.value,G.value);s.edgesChange(g)}l.value=de,a.value=!0,u.value=!1}function ae(z){var H;z.button!==0||!E||((H=z.target)==null||H.releasePointerCapture(z.pointerId),!a.value&&l.value&&z.target===T.value&&R(z),a.value=!1,l.value=null,u.value=P.value.size>0,s.selectionEnd(z),e.selectionKeyPressed&&(X=!1),E=!1)}return(z,H)=>(se(),he("div",{ref_key:"container",ref:T,class:Xe(["vue-flow__pane vue-flow__container",{selection:z.isSelecting}]),onClick:H[0]||(H[0]=Q=>B.value?void 0:M(R,T.value)(Q)),onContextmenu:H[1]||(H[1]=Q=>M(L,T.value)(Q)),onWheelPassive:H[2]||(H[2]=Q=>M(V,T.value)(Q)),onPointerenter:H[3]||(H[3]=Q=>B.value?void 0:I(s).paneMouseEnter(Q)),onPointerdown:H[4]||(H[4]=Q=>B.value?U(Q):I(s).paneMouseMove(Q)),onPointermove:H[5]||(H[5]=Q=>B.value?ee(Q):I(s).paneMouseMove(Q)),onPointerup:H[6]||(H[6]=Q=>B.value?ae(Q):void 0),onPointerleave:H[7]||(H[7]=Q=>I(s).paneMouseLeave(Q))},[ze(z.$slots,"default"),I(a)&&I(l)?(se(),at(Jc,{key:0,"user-selection-rect":I(l)},null,8,["user-selection-rect"])):Se("",!0),I(u)&&I(c).length?(se(),at(ed,{key:1})):Se("",!0)],34))}}),sd={name:"Transform",compatConfig:{MODE:3}},ad=Ee({...sd,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:i}=we(),s=oe(()=>n.value?!i.value:!1),a=oe(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(o,l)=>(se(),he("div",{class:"vue-flow__transformationpane vue-flow__container",style:Ie({transform:a.value,opacity:s.value?0:void 0})},[ze(o.$slots,"default")],4))}}),od={name:"Viewport",compatConfig:{MODE:3}},ld=Ee({...od,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:i,translateExtent:s,zoomActivationKeyCode:a,selectionKeyCode:o,panActivationKeyCode:l,panOnScroll:r,panOnScrollMode:u,panOnScrollSpeed:h,panOnDrag:c,zoomOnDoubleClick:d,zoomOnPinch:p,zoomOnScroll:b,preventScrolling:w,noWheelClassName:C,noPanClassName:x,emits:S,connectionStartHandle:m,userSelectionActive:k,paneDragging:N,d3Zoom:$,d3Selection:T,d3ZoomHandler:P,viewport:G,viewportRef:O,paneClickDistance:B}=we();Zc(O);const F=En(!1),X=En(!1);let E=null,A=!1,_=0,M={x:0,y:0,zoom:0};const R=Ot(l),L=Ot(o),V=Ot(a),U=me(()=>(!L.value||L.value&&o.value===!0)&&(R.value||c.value)),ee=me(()=>R.value||r.value),ae=me(()=>L.value||o.value===!0&&U.value!==!0);Ge(()=>{if(!O.value){zn("Viewport element is missing");return}const te=O.value,de=te.getBoundingClientRect(),K=xh().clickDistance(B.value).scaleExtent([t.value,n.value]).translateExtent(s.value),j=Pe(te).call(K),ie=j.on("wheel.zoom"),g=Bt.translate(i.value.x??0,i.value.y??0).scale(et(i.value.zoom??1,t.value,n.value)),f=[[0,0],[de.width,de.height]],v=K.constrain()(g,f,s.value);K.transform(j,v),K.wheelDelta(H),$.value=K,T.value=j,P.value=ie,G.value={x:v.x,y:v.y,zoom:v.k},K.on("start",y=>{var D;if(!y.sourceEvent)return null;_=y.sourceEvent.button,F.value=!0;const J=le(y.transform);((D=y.sourceEvent)==null?void 0:D.type)==="mousedown"&&(N.value=!0),M=J,S.viewportChangeStart(J),S.moveStart({event:y,flowTransform:J})}),K.on("end",y=>{if(!y.sourceEvent)return null;if(F.value=!1,N.value=!1,z(U.value,_??0)&&!A&&S.paneContextMenu(y.sourceEvent),A=!1,Q(M,y.transform)){const D=le(y.transform);M=D,S.viewportChangeEnd(D),S.moveEnd({event:y,flowTransform:D})}}),K.filter(y=>{var D;const J=V.value||b.value,W=p.value&&y.ctrlKey,Z=y.button;if(Z===1&&y.type==="mousedown"&&(re(y,"vue-flow__node")||re(y,"vue-flow__edge")))return!0;if(!U.value&&!J&&!ee.value&&!d.value&&!p.value||k.value||!d.value&&y.type==="dblclick"||re(y,C.value)&&y.type==="wheel"||re(y,x.value)&&(y.type!=="wheel"||ee.value&&y.type==="wheel"&&!V.value)||!p.value&&y.ctrlKey&&y.type==="wheel"||!J&&!ee.value&&!W&&y.type==="wheel")return!1;if(!p&&y.type==="touchstart"&&((D=y.touches)==null?void 0:D.length)>1)return y.preventDefault(),!1;if(!U.value&&(y.type==="mousedown"||y.type==="touchstart")||o.value===!0&&Array.isArray(c.value)&&c.value.includes(0)&&Z===0||Array.isArray(c.value)&&!c.value.includes(Z)&&(y.type==="mousedown"||y.type==="touchstart"))return!1;const ne=Array.isArray(c.value)&&c.value.includes(Z)||o.value===!0&&Array.isArray(c.value)&&!c.value.includes(0)||!Z||Z<=1;return(!y.ctrlKey||R.value||y.type==="wheel")&&ne}),ke([k,U],()=>{k.value&&!F.value?K.on("zoom",null):k.value||K.on("zoom",y=>{G.value={x:y.transform.x,y:y.transform.y,zoom:y.transform.k};const D=le(y.transform);A=z(U.value,_??0),S.viewportChange(D),S.move({event:y,flowTransform:D})})},{immediate:!0}),ke([k,ee,u,V,p,w,C],()=>{ee.value&&!V.value&&!k.value?j.on("wheel.zoom",y=>{if(re(y,C.value))return!1;const D=V.value||b.value,J=p.value&&y.ctrlKey;if(!(!w.value||ee.value||D||J))return!1;y.preventDefault(),y.stopImmediatePropagation();const Z=j.property("__zoom").k||1,ne=Sn();if(!R.value&&y.ctrlKey&&p.value&&ne){const Dt=He(y),vo=H(y),mo=Z*2**vo;K.scaleTo(j,mo,Dt,y);return}const ue=y.deltaMode===1?20:1;let pe=u.value===zt.Vertical?0:y.deltaX*ue,Fe=u.value===zt.Horizontal?0:y.deltaY*ue;!ne&&y.shiftKey&&u.value!==zt.Vertical&&!pe&&Fe&&(pe=Fe,Fe=0),K.translateBy(j,-(pe/Z)*h.value,-(Fe/Z)*h.value);const Ve=le(j.property("__zoom"));E&&clearTimeout(E),X.value?(S.move({event:y,flowTransform:Ve}),S.viewportChange(Ve),E=setTimeout(()=>{S.moveEnd({event:y,flowTransform:Ve}),S.viewportChangeEnd(Ve),X.value=!1},150)):(X.value=!0,S.moveStart({event:y,flowTransform:Ve}),S.viewportChangeStart(Ve))},{passive:!1}):typeof ie<"u"&&j.on("wheel.zoom",function(y,D){const J=!w.value&&y.type==="wheel"&&!y.ctrlKey,W=V.value||b.value,Z=p.value&&y.ctrlKey;if(!W&&!r.value&&!Z&&y.type==="wheel"||J||re(y,C.value))return null;y.preventDefault(),ie.call(this,y,D)},{passive:!1})},{immediate:!0})});function z(te,de){return de===2&&Array.isArray(te)&&te.includes(2)}function H(te){const de=te.ctrlKey&&Sn()?10:1;return-te.deltaY*(te.deltaMode===1?.05:te.deltaMode?1:.002)*de}function Q(te,de){return te.x!==de.x&&!Number.isNaN(de.x)||te.y!==de.y&&!Number.isNaN(de.y)||te.zoom!==de.k&&!Number.isNaN(de.k)}function le(te){return{x:te.x,y:te.y,zoom:te.k}}function re(te,de){return te.target.closest(`.${de}`)}return(te,de)=>(se(),he("div",{ref_key:"viewportRef",ref:O,class:"vue-flow__viewport vue-flow__container"},[fe(id,{"is-selecting":ae.value,"selection-key-pressed":I(L),class:Xe({connecting:!!I(m),dragging:I(N),draggable:I(c)===!0||Array.isArray(I(c))&&I(c).includes(0)})},{default:_t(()=>[fe(ad,null,{default:_t(()=>[ze(te.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),rd=["id"],ud=["id"],hd=["id"],cd={name:"A11yDescriptions",compatConfig:{MODE:3}},dd=Ee({...cd,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:i}=we();return(s,a)=>(se(),he(De,null,[ve("div",{id:`${I(ma)}-${I(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+Ht(I(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,rd),ve("div",{id:`${I(wa)}-${I(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,ud),I(n)?Se("",!0):(se(),he("div",{key:0,id:`${I($h)}-${I(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},Ht(I(i)),9,hd))],64))}});function pd(){const e=we();ke(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function fd(e,t,n){return n===q.Left?e-t:n===q.Right?e+t:e}function gd(e,t,n){return n===q.Top?e-t:n===q.Bottom?e+t:e}const Ri=function({radius:e=10,centerX:t=0,centerY:n=0,position:i=q.Top,type:s}){return ye("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${s}`,cx:fd(t,e,i),cy:gd(n,e,i),r:e,stroke:"transparent",fill:"transparent"})};Ri.props=["radius","centerX","centerY","position","type"];Ri.compatConfig={MODE:3};const Ss=Ri,kd=Ee({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:i,edgeUpdaterRadius:s,emits:a,nodesSelectionActive:o,noPanClassName:l,getEdgeTypes:r,removeSelectedEdges:u,findEdge:h,findNode:c,isValidConnection:d,multiSelectionActive:p,disableKeyboardA11y:b,elementsSelectable:w,edgesUpdatable:C,edgesFocusable:x,hooks:S}=we(),m=oe(()=>h(e.id)),{emit:k,on:N}=rc(m.value,a),$=gt(On),T=Jt(),P=ge(!1),G=ge(!1),O=ge(""),B=ge(null),F=ge("source"),X=ge(null),E=me(()=>typeof m.value.selectable>"u"?w.value:m.value.selectable),A=me(()=>typeof m.value.updatable>"u"?C.value:m.value.updatable),_=me(()=>typeof m.value.focusable>"u"?x.value:m.value.focusable);bt(ac,e.id),bt(oc,X);const M=oe(()=>m.value.class instanceof Function?m.value.class(m.value):m.value.class),R=oe(()=>m.value.style instanceof Function?m.value.style(m.value):m.value.style),L=oe(()=>{const f=m.value.type||"default",v=$==null?void 0:$[`edge-${f}`];if(v)return v;let y=m.value.template??r.value[f];if(typeof y=="string"&&T){const D=Object.keys(T.appContext.components);D&&D.includes(f)&&(y=Lt(f,!1))}return y&&typeof y!="string"?y:(a.error(new xe(be.EDGE_TYPE_MISSING,y)),!1)}),{handlePointerDown:V}=Oa({nodeId:O,handleId:B,type:F,isValidConnection:d,edgeUpdaterType:F,onEdgeUpdate:ae,onEdgeUpdateEnd:z});return()=>{const f=c(m.value.source),v=c(m.value.target),y="pathOptions"in m.value?m.value.pathOptions:{};if(!f&&!v)return a.error(new xe(be.EDGE_SOURCE_TARGET_MISSING,m.value.id,m.value.source,m.value.target)),null;if(!f)return a.error(new xe(be.EDGE_SOURCE_MISSING,m.value.id,m.value.source)),null;if(!v)return a.error(new xe(be.EDGE_TARGET_MISSING,m.value.id,m.value.target)),null;if(!m.value||m.value.hidden||f.hidden||v.hidden)return null;let D;i.value===ot.Strict?D=f.handleBounds.source:D=[...f.handleBounds.source||[],...f.handleBounds.target||[]];const J=gs(D,m.value.sourceHandle);let W;i.value===ot.Strict?W=v.handleBounds.target:W=[...v.handleBounds.target||[],...v.handleBounds.source||[]];const Z=gs(W,m.value.targetHandle),ne=(J==null?void 0:J.position)||q.Bottom,ue=(Z==null?void 0:Z.position)||q.Top,{x:pe,y:Fe}=Nt(f,J,ne),{x:Ve,y:Dt}=Nt(v,Z,ue);return m.value.sourceX=pe,m.value.sourceY=Fe,m.value.targetX=Ve,m.value.targetY=Dt,ye("g",{ref:X,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${L.value===!1?"default":m.value.type||"default"}`,l.value,M.value,{updating:P.value,selected:m.value.selected,animated:m.value.animated,inactive:!E.value&&!S.value.edgeClick.hasListeners()}],tabIndex:_.value?0:void 0,"aria-label":m.value.ariaLabel===null?void 0:m.value.ariaLabel??`Edge from ${m.value.source} to ${m.value.target}`,"aria-describedby":_.value?`${wa}-${t}`:void 0,"aria-roledescription":"edge",role:_.value?"group":"img",...m.value.domAttributes,onClick:Q,onContextmenu:le,onDblclick:re,onMouseenter:te,onMousemove:de,onMouseleave:K,onKeyDown:_.value?g:void 0},[G.value?null:ye(L.value===!1?r.value.default:L.value,{id:e.id,sourceNode:f,targetNode:v,source:m.value.source,target:m.value.target,type:m.value.type,updatable:A.value,selected:m.value.selected,animated:m.value.animated,label:m.value.label,labelStyle:m.value.labelStyle,labelShowBg:m.value.labelShowBg,labelBgStyle:m.value.labelBgStyle,labelBgPadding:m.value.labelBgPadding,labelBgBorderRadius:m.value.labelBgBorderRadius,data:m.value.data,events:{...m.value.events,...N},style:R.value,markerStart:`url('#${Wt(m.value.markerStart,t)}')`,markerEnd:`url('#${Wt(m.value.markerEnd,t)}')`,sourcePosition:ne,targetPosition:ue,sourceX:pe,sourceY:Fe,targetX:Ve,targetY:Dt,sourceHandleId:m.value.sourceHandle,targetHandleId:m.value.targetHandle,interactionWidth:m.value.interactionWidth,...y}),[A.value==="source"||A.value===!0?[ye("g",{onMousedown:j,onMouseenter:U,onMouseout:ee},ye(Ss,{position:ne,centerX:pe,centerY:Fe,radius:s.value,type:"source","data-type":"source"}))]:null,A.value==="target"||A.value===!0?[ye("g",{onMousedown:ie,onMouseenter:U,onMouseout:ee},ye(Ss,{position:ue,centerX:Ve,centerY:Dt,radius:s.value,type:"target","data-type":"target"}))]:null]])};function U(){P.value=!0}function ee(){P.value=!1}function ae(f,v){k.update({event:f,edge:m.value,connection:v})}function z(f){k.updateEnd({event:f,edge:m.value}),G.value=!1}function H(f,v){f.button===0&&(G.value=!0,O.value=v?m.value.target:m.value.source,B.value=(v?m.value.targetHandle:m.value.sourceHandle)??null,F.value=v?"target":"source",k.updateStart({event:f,edge:m.value}),V(f))}function Q(f){var v;const y={event:f,edge:m.value};E.value&&(o.value=!1,m.value.selected&&p.value?(u([m.value]),(v=X.value)==null||v.blur()):n([m.value])),k.click(y)}function le(f){k.contextMenu({event:f,edge:m.value})}function re(f){k.doubleClick({event:f,edge:m.value})}function te(f){k.mouseEnter({event:f,edge:m.value})}function de(f){k.mouseMove({event:f,edge:m.value})}function K(f){k.mouseLeave({event:f,edge:m.value})}function j(f){H(f,!0)}function ie(f){H(f,!1)}function g(f){var v;!b.value&&Fa.includes(f.key)&&E.value&&(f.key==="Escape"?((v=X.value)==null||v.blur(),u([h(e.id)])):n([h(e.id)]))}}}),Ed=kd,yd=Ee({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:i,connectionEndHandle:s,connectionPosition:a,connectionLineType:o,connectionLineStyle:l,connectionLineOptions:r,connectionStatus:u,viewport:h,findNode:c}=we(),d=(e=gt(On))==null?void 0:e["connection-line"],p=oe(()=>{var S;return c((S=i.value)==null?void 0:S.nodeId)}),b=oe(()=>{var S;return c((S=s.value)==null?void 0:S.nodeId)??null}),w=oe(()=>({x:(a.value.x-h.value.x)/h.value.zoom,y:(a.value.y-h.value.y)/h.value.zoom})),C=oe(()=>r.value.markerStart?`url(#${Wt(r.value.markerStart,t)})`:""),x=oe(()=>r.value.markerEnd?`url(#${Wt(r.value.markerEnd,t)})`:"");return()=>{var S,m,k;if(!p.value||!i.value)return null;const N=i.value.id,$=i.value.type,T=p.value.handleBounds;let P=(T==null?void 0:T[$])??[];if(n.value===ot.Loose){const R=(T==null?void 0:T[$==="source"?"target":"source"])??[];P=[...P,...R]}if(!P)return null;const G=(N?P.find(R=>R.id===N):P[0])??null,O=(G==null?void 0:G.position)??q.Top,{x:B,y:F}=Nt(p.value,G,O);let X=null;b.value&&(n.value===ot.Strict?X=((S=b.value.handleBounds[$==="source"?"target":"source"])==null?void 0:S.find(R=>{var L;return R.id===((L=s.value)==null?void 0:L.id)}))||null:X=((m=[...b.value.handleBounds.source??[],...b.value.handleBounds.target??[]])==null?void 0:m.find(R=>{var L;return R.id===((L=s.value)==null?void 0:L.id)}))||null);const E=((k=s.value)==null?void 0:k.position)??(O?vi[O]:null);if(!O||!E)return null;const A=o.value??r.value.type??rt.Bezier;let _="";const M={sourceX:B,sourceY:F,sourcePosition:O,targetX:w.value.x,targetY:w.value.y,targetPosition:E};return A===rt.Bezier?[_]=Yn(M):A===rt.Step?[_]=wi({...M,borderRadius:0}):A===rt.SmoothStep?[_]=wi(M):A===rt.SimpleBezier?[_]=Xa(M):_=`M${B},${F} ${w.value.x},${w.value.y}`,ye("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},ye("g",{class:"vue-flow__connection"},d?ye(d,{sourceX:B,sourceY:F,sourcePosition:O,targetX:w.value.x,targetY:w.value.y,targetPosition:E,sourceNode:p.value,sourceHandle:G,targetNode:b.value,targetHandle:X,markerEnd:x.value,markerStart:C.value,connectionStatus:u.value}):ye("path",{d:_,class:[r.value.class,u,"vue-flow__connection-path"],style:{...l.value,...r.value.style},"marker-end":x.value,"marker-start":C.value})))}}}),vd=yd,md=["id","markerWidth","markerHeight","markerUnits","orient"],wd={name:"MarkerType",compatConfig:{MODE:3}},Fd=Ee({...wd,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(se(),he("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===I(ki).ArrowClosed?(se(),he("polyline",{key:0,style:Ie({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):Se("",!0),t.type===I(ki).Arrow?(se(),he("polyline",{key:1,style:Ie({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):Se("",!0)],8,md))}}),Cd={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},_d={name:"MarkerDefinitions",compatConfig:{MODE:3}},bd=Ee({..._d,setup(e){const{id:t,edges:n,connectionLineOptions:i,defaultMarkerColor:s}=we(),a=oe(()=>{const o=new Set,l=[],r=u=>{if(u){const h=Wt(u,t);o.has(h)||(typeof u=="object"?l.push({...u,id:h,color:u.color||s.value}):l.push({id:h,color:s.value,type:u}),o.add(h))}};for(const u of[i.value.markerEnd,i.value.markerStart])r(u);for(const u of n.value)for(const h of[u.markerStart,u.markerEnd])r(h);return l.sort((u,h)=>u.id.localeCompare(h.id))});return(o,l)=>(se(),he("svg",Cd,[ve("defs",null,[(se(!0),he(De,null,Vt(a.value,r=>(se(),at(Fd,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,"stroke-width":r.strokeWidth,orient:r.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),xd={name:"Edges",compatConfig:{MODE:3}},Sd=Ee({...xd,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:i}=we();return(s,a)=>(se(),he(De,null,[fe(bd),(se(!0),he(De,null,Vt(I(n),o=>(se(),he("svg",{key:o.id,class:"vue-flow__edges vue-flow__container",style:Ie({zIndex:I(Gh)(o,I(t),I(i))})},[fe(I(Ed),{id:o.id},null,8,["id"])],4))),128)),fe(I(vd))],64))}}),Bd=Ee({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:i,nodesSelectionActive:s,multiSelectionActive:a,emits:o,removeSelectedNodes:l,addSelectedNodes:r,updateNodeDimensions:u,onUpdateNodeInternals:h,getNodeTypes:c,nodeExtent:d,elevateNodesOnSelect:p,disableKeyboardA11y:b,ariaLiveMessage:w,snapToGrid:C,snapGrid:x,nodeDragThreshold:S,nodesDraggable:m,elementsSelectable:k,nodesConnectable:N,nodesFocusable:$,hooks:T}=we(),P=ge(null);bt(Pa,P),bt(Pi,e.id);const G=gt(On),O=Jt(),B=Ha(),{node:F,parentNode:X}=Va(e.id),{emit:E,on:A}=cc(F,o),_=me(()=>typeof F.draggable>"u"?m.value:F.draggable),M=me(()=>typeof F.selectable>"u"?k.value:F.selectable),R=me(()=>typeof F.connectable>"u"?N.value:F.connectable),L=me(()=>typeof F.focusable>"u"?$.value:F.focusable),V=oe(()=>M.value||_.value||T.value.nodeClick.hasListeners()||T.value.nodeDoubleClick.hasListeners()||T.value.nodeMouseEnter.hasListeners()||T.value.nodeMouseMove.hasListeners()||T.value.nodeMouseLeave.hasListeners()),U=me(()=>!!F.dimensions.width&&!!F.dimensions.height),ee=oe(()=>{const v=F.type||"default",y=G==null?void 0:G[`node-${v}`];if(y)return y;let D=F.template||c.value[v];if(typeof D=="string"&&O){const J=Object.keys(O.appContext.components);J&&J.includes(v)&&(D=Lt(v,!1))}return D&&typeof D!="string"?D:(o.error(new xe(be.NODE_TYPE_MISSING,D)),!1)}),ae=Ra({id:e.id,el:P,disabled:()=>!_.value,selectable:M,dragHandle:()=>F.dragHandle,onStart(v){E.dragStart(v)},onDrag(v){E.drag(v)},onStop(v){E.dragStop(v)},onClick(v){g(v)}}),z=oe(()=>F.class instanceof Function?F.class(F):F.class),H=oe(()=>{const v=(F.style instanceof Function?F.style(F):F.style)||{},y=F.width instanceof Function?F.width(F):F.width,D=F.height instanceof Function?F.height(F):F.height;return!v.width&&y&&(v.width=typeof y=="string"?y:`${y}px`),!v.height&&D&&(v.height=typeof D=="string"?D:`${D}px`),v}),Q=me(()=>Number(F.zIndex??H.value.zIndex??0));return h(v=>{(v.includes(e.id)||!v.length)&&re()}),Ge(()=>{ke(()=>F.hidden,(v=!1,y,D)=>{!v&&P.value&&(e.resizeObserver.observe(P.value),D(()=>{P.value&&e.resizeObserver.unobserve(P.value)}))},{immediate:!0,flush:"post"})}),ke([()=>F.type,()=>F.sourcePosition,()=>F.targetPosition],()=>{Me(()=>{u([{id:e.id,nodeElement:P.value,forceUpdate:!0}])})}),ke([()=>F.position.x,()=>F.position.y,()=>{var v;return(v=X.value)==null?void 0:v.computedPosition.x},()=>{var v;return(v=X.value)==null?void 0:v.computedPosition.y},()=>{var v;return(v=X.value)==null?void 0:v.computedPosition.z},Q,()=>F.selected,()=>F.dimensions.height,()=>F.dimensions.width,()=>{var v;return(v=X.value)==null?void 0:v.dimensions.height},()=>{var v;return(v=X.value)==null?void 0:v.dimensions.width}],([v,y,D,J,W,Z])=>{const ne={x:v,y,z:Z+(p.value&&F.selected?1e3:0)};typeof D<"u"&&typeof J<"u"?F.computedPosition=Vh({x:D,y:J,z:W},ne):F.computedPosition=ne},{flush:"post",immediate:!0}),ke([()=>F.extent,d],([v,y],[D,J])=>{(v!==D||y!==J)&&le()}),F.extent==="parent"||typeof F.extent=="object"&&"range"in F.extent&&F.extent.range==="parent"?li(()=>U).toBe(!0).then(le):le(),()=>F.hidden?null:ye("div",{ref:P,"data-id":F.id,class:["vue-flow__node",`vue-flow__node-${ee.value===!1?"default":F.type||"default"}`,{[n.value]:_.value,dragging:ae==null?void 0:ae.value,draggable:_.value,selected:F.selected,selectable:M.value,parent:F.isParent},z.value],style:{visibility:U.value?"visible":"hidden",zIndex:F.computedPosition.z??Q.value,transform:`translate(${F.computedPosition.x}px,${F.computedPosition.y}px)`,pointerEvents:V.value?"all":"none",...H.value},tabIndex:L.value?0:void 0,role:L.value?"group":void 0,"aria-describedby":b.value?void 0:`${ma}-${t}`,"aria-label":F.ariaLabel,"aria-roledescription":"node",...F.domAttributes,onMouseenter:te,onMousemove:de,onMouseleave:K,onContextmenu:j,onClick:g,onDblclick:ie,onKeydown:f},[ye(ee.value===!1?c.value.default:ee.value,{id:F.id,type:F.type,data:F.data,events:{...F.events,...A},selected:F.selected,resizing:F.resizing,dragging:ae.value,connectable:R.value,position:F.computedPosition,dimensions:F.dimensions,isValidTargetPos:F.isValidTargetPos,isValidSourcePos:F.isValidSourcePos,parent:F.parentNode,parentNodeId:F.parentNode,zIndex:F.computedPosition.z??Q.value,targetPosition:F.targetPosition,sourcePosition:F.sourcePosition,label:F.label,dragHandle:F.dragHandle,onUpdateNodeInternals:re})]);function le(){const v=F.computedPosition,{computedPosition:y,position:D}=Ii(F,C.value?Rn(v,x.value):v,o.error,d.value,X.value);(F.computedPosition.x!==y.x||F.computedPosition.y!==y.y)&&(F.computedPosition={...F.computedPosition,...y}),(F.position.x!==D.x||F.position.y!==D.y)&&(F.position=D)}function re(){P.value&&u([{id:e.id,nodeElement:P.value,forceUpdate:!0}])}function te(v){ae!=null&&ae.value||E.mouseEnter({event:v,node:F})}function de(v){ae!=null&&ae.value||E.mouseMove({event:v,node:F})}function K(v){ae!=null&&ae.value||E.mouseLeave({event:v,node:F})}function j(v){return E.contextMenu({event:v,node:F})}function ie(v){return E.doubleClick({event:v,node:F})}function g(v){M.value&&(!i.value||!_.value||S.value>0)&&mi(F,a.value,r,l,s,!1,P.value),E.click({event:v,node:F})}function f(v){if(!(Ei(v)||b.value))if(Fa.includes(v.key)&&M.value){const y=v.key==="Escape";mi(F,a.value,r,l,s,y,P.value)}else _.value&&F.selected&&Ft[v.key]&&(v.preventDefault(),w.value=`Moved selected node ${v.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~F.position.x}, y: ${~~F.position.y}`,B({x:Ft[v.key].x,y:Ft[v.key].y},v.shiftKey))}}}),Nd=Bd;function Ad(e={includeHiddenNodes:!1}){const{nodes:t}=we();return oe(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&((n==null?void 0:n.handleBounds)===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const Dd={class:"vue-flow__nodes vue-flow__container"},$d={name:"Nodes",compatConfig:{MODE:3}},Md=Ee({...$d,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:i}=we(),s=Ad(),a=ge();return ke(s,o=>{o&&Me(()=>{i.nodesInitialized(t.value)})},{immediate:!0}),Ge(()=>{a.value=new ResizeObserver(o=>{const l=o.map(r=>({id:r.target.getAttribute("data-id"),nodeElement:r.target,forceUpdate:!0}));Me(()=>n(l))})}),Hs(()=>{var o;return(o=a.value)==null?void 0:o.disconnect()}),(o,l)=>(se(),he("div",Dd,[a.value?(se(!0),he(De,{key:0},Vt(I(t),(r,u,h,c)=>{const d=[r.id];if(c&&c.key===r.id&&xo(c,d))return c;const p=(se(),at(I(Nd),{id:r.id,key:r.id,"resize-observer":a.value},null,8,["id","resize-observer"]));return p.memo=d,p},l,0),128)):Se("",!0)]))}});function Id(){const{emits:e}=we();Ge(()=>{if(Ta()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new xe(be.MISSING_STYLES))}})}const Td=ve("div",{class:"vue-flow__edge-labels"},null,-1),Pd={name:"VueFlow",compatConfig:{MODE:3}},Rd=Ee({...Pd,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const i=e,s=Fo(),a=Gn(i,"modelValue",n),o=Gn(i,"nodes",n),l=Gn(i,"edges",n),r=we(i),u=gc({modelValue:a,nodes:o,edges:l},i,r);return Ec(n,r.hooks),pd(),Id(),bt(On,s),Co(()=>{u()}),t(r),(h,c)=>(se(),he("div",{ref:I(r).vueFlowRef,class:"vue-flow"},[fe(ld,null,{default:_t(()=>[fe(Sd),Td,fe(Md),ze(h.$slots,"zoom-pane")]),_:3}),ze(h.$slots,"default"),fe(dd)],512))}});var Qe=(e=>(e.Lines="lines",e.Dots="dots",e))(Qe||{});const Ua=function({dimensions:e,size:t,color:n}){return ye("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},Wa=function({radius:e,color:t}){return ye("circle",{cx:e,cy:e,r:e,fill:t})};Qe.Lines+"",Qe.Dots+"";const zd={[Qe.Dots]:"#81818a",[Qe.Lines]:"#eee"},Od=["id","x","y","width","height","patternTransform"],Vd={key:2,height:"100",width:"100"},Hd=["fill"],Ld=["x","y","fill"],qd={name:"Background",compatConfig:{MODE:3}},Yd=Ee({...qd,props:{id:{},variant:{default:()=>Qe.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=we(),i=oe(()=>{const o=n.value.zoom,[l,r]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],u=[l*o||1,r*o||1],h=e.size*o,[c,d]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],p=[c*o||1+u[0]/2,d*o||1+u[1]/2];return{scaledGap:u,offset:p,size:h}}),s=me(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),a=me(()=>e.color||e.patternColor||zd[e.variant||Qe.Dots]);return(o,l)=>(se(),he("svg",{class:"vue-flow__background vue-flow__container",style:Ie({height:`${o.height>100?100:o.height}%`,width:`${o.width>100?100:o.width}%`})},[ze(o.$slots,"pattern-container",{id:s.value},()=>[ve("pattern",{id:s.value,x:I(n).x%i.value.scaledGap[0],y:I(n).y%i.value.scaledGap[1],width:i.value.scaledGap[0],height:i.value.scaledGap[1],patternTransform:`translate(-${i.value.offset[0]},-${i.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[ze(o.$slots,"pattern",{},()=>[o.variant===I(Qe).Lines?(se(),at(I(Ua),{key:0,size:o.lineWidth,color:a.value,dimensions:i.value.scaledGap},null,8,["size","color","dimensions"])):o.variant===I(Qe).Dots?(se(),at(I(Wa),{key:1,color:a.value,radius:i.value.size/2},null,8,["color","radius"])):Se("",!0),o.bgColor?(se(),he("svg",Vd,[ve("rect",{width:"100%",height:"100%",fill:o.bgColor},null,8,Hd)])):Se("",!0)])],8,Od)]),ve("rect",{x:o.x,y:o.y,width:"100%",height:"100%",fill:`url(#${s.value})`},null,8,Ld),ze(o.$slots,"default",{id:s.value})],4))}});var Fi="http://www.w3.org/1999/xhtml";const Bs={svg:"http://www.w3.org/2000/svg",xhtml:Fi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Za(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Bs.hasOwnProperty(t)?{space:Bs[t],local:e}:e}function Xd(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Fi&&t.documentElement.namespaceURI===Fi?t.createElement(e):t.createElementNS(n,e)}}function Gd(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ka(e){var t=Za(e);return(t.local?Gd:Xd)(t)}function Ud(){}function Ja(e){return e==null?Ud:function(){return this.querySelector(e)}}function Wd(e){typeof e!="function"&&(e=Ja(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=i[s]=new Array(o),r,u,h=0;h<o;++h)(r=a[h])&&(u=e.call(r,r.__data__,h,a))&&("__data__"in r&&(u.__data__=r.__data__),l[h]=u);return new Te(i,this._parents)}function Zd(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Kd(){return[]}function Jd(e){return e==null?Kd:function(){return this.querySelectorAll(e)}}function Qd(e){return function(){return Zd(e.apply(this,arguments))}}function jd(e){typeof e=="function"?e=Qd(e):e=Jd(e);for(var t=this._groups,n=t.length,i=[],s=[],a=0;a<n;++a)for(var o=t[a],l=o.length,r,u=0;u<l;++u)(r=o[u])&&(i.push(e.call(r,r.__data__,u,o)),s.push(r));return new Te(i,s)}function ep(e){return function(){return this.matches(e)}}function Qa(e){return function(t){return t.matches(e)}}var tp=Array.prototype.find;function np(e){return function(){return tp.call(this.children,e)}}function ip(){return this.firstElementChild}function sp(e){return this.select(e==null?ip:np(typeof e=="function"?e:Qa(e)))}var ap=Array.prototype.filter;function op(){return Array.from(this.children)}function lp(e){return function(){return ap.call(this.children,e)}}function rp(e){return this.selectAll(e==null?op:lp(typeof e=="function"?e:Qa(e)))}function up(e){typeof e!="function"&&(e=ep(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=i[s]=[],r,u=0;u<o;++u)(r=a[u])&&e.call(r,r.__data__,u,a)&&l.push(r);return new Te(i,this._parents)}function ja(e){return new Array(e.length)}function hp(){return new Te(this._enter||this._groups.map(ja),this._parents)}function Bn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Bn.prototype={constructor:Bn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function cp(e){return function(){return e}}function dp(e,t,n,i,s,a){for(var o=0,l,r=t.length,u=a.length;o<u;++o)(l=t[o])?(l.__data__=a[o],i[o]=l):n[o]=new Bn(e,a[o]);for(;o<r;++o)(l=t[o])&&(s[o]=l)}function pp(e,t,n,i,s,a,o){var l,r,u=new Map,h=t.length,c=a.length,d=new Array(h),p;for(l=0;l<h;++l)(r=t[l])&&(d[l]=p=o.call(r,r.__data__,l,t)+"",u.has(p)?s[l]=r:u.set(p,r));for(l=0;l<c;++l)p=o.call(e,a[l],l,a)+"",(r=u.get(p))?(i[l]=r,r.__data__=a[l],u.delete(p)):n[l]=new Bn(e,a[l]);for(l=0;l<h;++l)(r=t[l])&&u.get(d[l])===r&&(s[l]=r)}function fp(e){return e.__data__}function gp(e,t){if(!arguments.length)return Array.from(this,fp);var n=t?pp:dp,i=this._parents,s=this._groups;typeof e!="function"&&(e=cp(e));for(var a=s.length,o=new Array(a),l=new Array(a),r=new Array(a),u=0;u<a;++u){var h=i[u],c=s[u],d=c.length,p=kp(e.call(h,h&&h.__data__,u,i)),b=p.length,w=l[u]=new Array(b),C=o[u]=new Array(b),x=r[u]=new Array(d);n(h,c,w,C,x,p,t);for(var S=0,m=0,k,N;S<b;++S)if(k=w[S]){for(S>=m&&(m=S+1);!(N=C[m])&&++m<b;);k._next=N||null}}return o=new Te(o,i),o._enter=l,o._exit=r,o}function kp(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ep(){return new Te(this._exit||this._groups.map(ja),this._parents)}function yp(e,t,n){var i=this.enter(),s=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?a.remove():n(a),i&&s?i.merge(s).order():s}function vp(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,s=n.length,a=i.length,o=Math.min(s,a),l=new Array(s),r=0;r<o;++r)for(var u=n[r],h=i[r],c=u.length,d=l[r]=new Array(c),p,b=0;b<c;++b)(p=u[b]||h[b])&&(d[b]=p);for(;r<s;++r)l[r]=n[r];return new Te(l,this._parents)}function mp(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],s=i.length-1,a=i[s],o;--s>=0;)(o=i[s])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function wp(e){e||(e=Fp);function t(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var n=this._groups,i=n.length,s=new Array(i),a=0;a<i;++a){for(var o=n[a],l=o.length,r=s[a]=new Array(l),u,h=0;h<l;++h)(u=o[h])&&(r[h]=u);r.sort(t)}return new Te(s,this._parents).order()}function Fp(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Cp(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function _p(){return Array.from(this)}function bp(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,a=i.length;s<a;++s){var o=i[s];if(o)return o}return null}function xp(){let e=0;for(const t of this)++e;return e}function Sp(){return!this.node()}function Bp(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var s=t[n],a=0,o=s.length,l;a<o;++a)(l=s[a])&&e.call(l,l.__data__,a,s);return this}function Np(e){return function(){this.removeAttribute(e)}}function Ap(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Dp(e,t){return function(){this.setAttribute(e,t)}}function $p(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Mp(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Ip(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Tp(e,t){var n=Za(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?Ap:Np:typeof t=="function"?n.local?Ip:Mp:n.local?$p:Dp)(n,t))}function eo(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Pp(e){return function(){this.style.removeProperty(e)}}function Rp(e,t,n){return function(){this.style.setProperty(e,t,n)}}function zp(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Op(e,t,n){return arguments.length>1?this.each((t==null?Pp:typeof t=="function"?zp:Rp)(e,t,n??"")):Vp(this.node(),e)}function Vp(e,t){return e.style.getPropertyValue(t)||eo(e).getComputedStyle(e,null).getPropertyValue(t)}function Hp(e){return function(){delete this[e]}}function Lp(e,t){return function(){this[e]=t}}function qp(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Yp(e,t){return arguments.length>1?this.each((t==null?Hp:typeof t=="function"?qp:Lp)(e,t)):this.node()[e]}function to(e){return e.trim().split(/^|\s+/)}function zi(e){return e.classList||new no(e)}function no(e){this._node=e,this._names=to(e.getAttribute("class")||"")}no.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function io(e,t){for(var n=zi(e),i=-1,s=t.length;++i<s;)n.add(t[i])}function so(e,t){for(var n=zi(e),i=-1,s=t.length;++i<s;)n.remove(t[i])}function Xp(e){return function(){io(this,e)}}function Gp(e){return function(){so(this,e)}}function Up(e,t){return function(){(t.apply(this,arguments)?io:so)(this,e)}}function Wp(e,t){var n=to(e+"");if(arguments.length<2){for(var i=zi(this.node()),s=-1,a=n.length;++s<a;)if(!i.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?Up:t?Xp:Gp)(n,t))}function Zp(){this.textContent=""}function Kp(e){return function(){this.textContent=e}}function Jp(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Qp(e){return arguments.length?this.each(e==null?Zp:(typeof e=="function"?Jp:Kp)(e)):this.node().textContent}function jp(){this.innerHTML=""}function ef(e){return function(){this.innerHTML=e}}function tf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function nf(e){return arguments.length?this.each(e==null?jp:(typeof e=="function"?tf:ef)(e)):this.node().innerHTML}function sf(){this.nextSibling&&this.parentNode.appendChild(this)}function af(){return this.each(sf)}function of(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lf(){return this.each(of)}function rf(e){var t=typeof e=="function"?e:Ka(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function uf(){return null}function hf(e,t){var n=typeof e=="function"?e:Ka(e),i=t==null?uf:typeof t=="function"?t:Ja(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function cf(){var e=this.parentNode;e&&e.removeChild(this)}function df(){return this.each(cf)}function pf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ff(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function gf(e){return this.select(e?ff:pf)}function kf(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ef(e){return function(t){e.call(this,t,this.__data__)}}function yf(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function vf(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,s=t.length,a;n<s;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function mf(e,t,n){return function(){var i=this.__on,s,a=Ef(t);if(i){for(var o=0,l=i.length;o<l;++o)if((s=i[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=t;return}}this.addEventListener(e.type,a,n),s={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(s):this.__on=[s]}}function wf(e,t,n){var i=yf(e+""),s,a=i.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var r=0,u=l.length,h;r<u;++r)for(s=0,h=l[r];s<a;++s)if((o=i[s]).type===h.type&&o.name===h.name)return h.value}return}for(l=t?mf:vf,s=0;s<a;++s)this.each(l(i[s],t,n));return this}function ao(e,t,n){var i=eo(e),s=i.CustomEvent;typeof s=="function"?s=new s(t,n):(s=i.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function Ff(e,t){return function(){return ao(this,e,t)}}function Cf(e,t){return function(){return ao(this,e,t.apply(this,arguments))}}function _f(e,t){return this.each((typeof t=="function"?Cf:Ff)(e,t))}function*bf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,a=i.length,o;s<a;++s)(o=i[s])&&(yield o)}var xf=[null];function Te(e,t){this._groups=e,this._parents=t}function Sf(){return this}Te.prototype={constructor:Te,select:Wd,selectAll:jd,selectChild:sp,selectChildren:rp,filter:up,data:gp,enter:hp,exit:Ep,join:yp,merge:vp,selection:Sf,order:mp,sort:wp,call:Cp,nodes:_p,node:bp,size:xp,empty:Sp,each:Bp,attr:Tp,style:Op,property:Yp,classed:Wp,text:Qp,html:nf,raise:af,lower:lf,append:rf,insert:hf,remove:df,clone:gf,datum:kf,on:wf,dispatch:_f,[Symbol.iterator]:bf};function Zt(e){return typeof e=="string"?new Te([[document.querySelector(e)]],[document.documentElement]):new Te([[e]],xf)}function Bf(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ns(e,t){if(e=Bf(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}var Nf={value:()=>{}};function oo(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new kn(n)}function kn(e){this._=e}function Af(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");if(s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}kn.prototype=oo.prototype={constructor:kn,on:function(e,t){var n=this._,i=Af(e+"",n),s,a=-1,o=i.length;if(arguments.length<2){for(;++a<o;)if((s=(e=i[a]).type)&&(s=Df(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(s=(e=i[a]).type)n[s]=As(n[s],e.name,t);else if(t==null)for(s in n)n[s]=As(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new kn(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),i=0,s,a;i<s;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,s=a.length;i<s;++i)a[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],s=0,a=i.length;s<a;++s)i[s].value.apply(t,n)}};function Df(e,t){for(var n=0,i=e.length,s;n<i;++n)if((s=e[n]).name===t)return s.value}function As(e,t,n){for(var i=0,s=e.length;i<s;++i)if(e[i].name===t){e[i]=Nf,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}const $f={passive:!1},Kt={capture:!0,passive:!1};function si(e){e.stopImmediatePropagation()}function Ct(e){e.preventDefault(),e.stopImmediatePropagation()}function Mf(e){var t=e.document.documentElement,n=Zt(e).on("dragstart.drag",Ct,Kt);"onselectstart"in t?n.on("selectstart.drag",Ct,Kt):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function If(e,t){var n=e.document.documentElement,i=Zt(e).on("dragstart.drag",null);t&&(i.on("click.drag",Ct,Kt),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const un=e=>()=>e;function Ci(e,{sourceEvent:t,subject:n,target:i,identifier:s,active:a,x:o,y:l,dx:r,dy:u,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:r,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:h}})}Ci.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Tf(e){return!e.ctrlKey&&!e.button}function Pf(){return this.parentNode}function Rf(e,t){return t??{x:e.x,y:e.y}}function zf(){return navigator.maxTouchPoints||"ontouchstart"in this}function Of(){var e=Tf,t=Pf,n=Rf,i=zf,s={},a=oo("start","drag","end"),o=0,l,r,u,h,c=0;function d(k){k.on("mousedown.drag",p).filter(i).on("touchstart.drag",C).on("touchmove.drag",x,$f).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(k,N){if(!(h||!e.call(this,k,N))){var $=m(this,t.call(this,k,N),k,N,"mouse");$&&(Zt(k.view).on("mousemove.drag",b,Kt).on("mouseup.drag",w,Kt),Mf(k.view),si(k),u=!1,l=k.clientX,r=k.clientY,$("start",k))}}function b(k){if(Ct(k),!u){var N=k.clientX-l,$=k.clientY-r;u=N*N+$*$>c}s.mouse("drag",k)}function w(k){Zt(k.view).on("mousemove.drag mouseup.drag",null),If(k.view,u),Ct(k),s.mouse("end",k)}function C(k,N){if(e.call(this,k,N)){var $=k.changedTouches,T=t.call(this,k,N),P=$.length,G,O;for(G=0;G<P;++G)(O=m(this,T,k,N,$[G].identifier,$[G]))&&(si(k),O("start",k,$[G]))}}function x(k){var N=k.changedTouches,$=N.length,T,P;for(T=0;T<$;++T)(P=s[N[T].identifier])&&(Ct(k),P("drag",k,N[T]))}function S(k){var N=k.changedTouches,$=N.length,T,P;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),T=0;T<$;++T)(P=s[N[T].identifier])&&(si(k),P("end",k,N[T]))}function m(k,N,$,T,P,G){var O=a.copy(),B=Ns(G||$,N),F,X,E;if((E=n.call(k,new Ci("beforestart",{sourceEvent:$,target:d,identifier:P,active:o,x:B[0],y:B[1],dx:0,dy:0,dispatch:O}),T))!=null)return F=E.x-B[0]||0,X=E.y-B[1]||0,function A(_,M,R){var L=B,V;switch(_){case"start":s[P]=A,V=o++;break;case"end":delete s[P],--o;case"drag":B=Ns(R||M,N),V=o;break}O.call(_,k,new Ci(_,{sourceEvent:M,subject:E,target:d,identifier:P,active:V,x:B[0]+F,y:B[1]+X,dx:B[0]-L[0],dy:B[1]-L[1],dispatch:O}),T)}}return d.filter=function(k){return arguments.length?(e=typeof k=="function"?k:un(!!k),d):e},d.container=function(k){return arguments.length?(t=typeof k=="function"?k:un(k),d):t},d.subject=function(k){return arguments.length?(n=typeof k=="function"?k:un(k),d):n},d.touchable=function(k){return arguments.length?(i=typeof k=="function"?k:un(!!k),d):i},d.on=function(){var k=a.on.apply(a,arguments);return k===a?d:k},d.clickDistance=function(k){return arguments.length?(c=(k=+k)*k,d):Math.sqrt(c)},d}var At=(e=>(e.Line="line",e.Handle="handle",e))(At||{});function Vf({width:e,prevWidth:t,height:n,prevHeight:i,invertX:s,invertY:a}){const o=e-t,l=n-i,r=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&s&&(r[0]=r[0]*-1),l&&a&&(r[1]=r[1]*-1),r}const Hf={[At.Line]:"right",[At.Handle]:"bottom-right"},Lf={[At.Line]:"borderColor",[At.Handle]:"backgroundColor"},qf={name:"ResizeControl",compatConfig:{MODE:3}},Ds=Ee({...qf,props:{nodeId:{},color:{},minWidth:{default:10},minHeight:{default:10},maxWidth:{default:Number.MAX_VALUE},maxHeight:{default:Number.MAX_VALUE},position:{},variant:{default:"handle"},shouldResize:{},keepAspectRatio:{type:[Boolean,Number],default:!1}},emits:["resizeStart","resize","resizeEnd"],setup(e,{emit:t}){const n=e,i={width:0,height:0,x:0,y:0},s={...i,pointerX:0,pointerY:0,aspectRatio:1},{findNode:a,emits:o}=we(),l=za(),r=ge();let u=s,h=i;const c=me(()=>n.position??Hf[n.variant]),d=me(()=>c.value.split("-")),p=me(()=>n.color?{[Lf[n.variant]]:n.color}:{});return $o(b=>{if(!r.value||!n.nodeId)return;const w=Zt(r.value),C=c.value.includes("right")||c.value.includes("left"),x=c.value.includes("bottom")||c.value.includes("top"),S=c.value.includes("left"),m=c.value.includes("top"),k=Of().on("start",N=>{const $=a(n.nodeId),{xSnapped:T,ySnapped:P}=l(N);h={width:($==null?void 0:$.dimensions.width)??0,height:($==null?void 0:$.dimensions.height)??0,x:($==null?void 0:$.position.x)??0,y:($==null?void 0:$.position.y)??0},u={...h,pointerX:T,pointerY:P,aspectRatio:h.width/h.height},t("resizeStart",{event:N,params:h})}).on("drag",N=>{var $;const{xSnapped:T,ySnapped:P}=l(N),G=a(n.nodeId);if(G){const O=[],{pointerX:B,pointerY:F,width:X,height:E,x:A,y:_,aspectRatio:M}=u,{x:R,y:L,width:V,height:U}=h,ee=Math.floor(C?T-B:0),ae=Math.floor(x?P-F:0);let z=et(X+(S?-ee:ee),n.minWidth,n.maxWidth),H=et(E+(m?-ae:ae),n.minHeight,n.maxHeight);if(n.keepAspectRatio){const K=z/H;let j=M;typeof n.keepAspectRatio=="number"&&K!==n.keepAspectRatio&&(j=n.keepAspectRatio);const ie=C&&x,g=C&&!x,f=x&&!C;z=K<=j&&ie||f?H*j:z,H=K>j&&ie||g?z/j:H,z>=n.maxWidth?(z=n.maxWidth,H=n.maxWidth/j):z<=n.minWidth&&(z=n.minWidth,H=n.minWidth/j),H>=n.maxHeight?(H=n.maxHeight,z=n.maxHeight*j):H<=n.minHeight&&(H=n.minHeight,z=n.minHeight*j)}const Q=z!==V,le=H!==U;if(S||m){const K=S?A-(z-X):A,j=m?_-(H-E):_,ie=K!==R&&Q,g=j!==L&&le;if(ie||g){const f={id:G.id,type:"position",from:G.position,position:{x:ie?K:R,y:g?j:L}};O.push(f),h.x=f.position.x,h.y=f.position.y}}if(n.nodeId&&(Q||le)){const K={id:n.nodeId,type:"dimensions",updateStyle:!0,resizing:!0,dimensions:{width:z,height:H}};O.push(K),h.width=z,h.height=H}if(O.length===0)return;const re=Vf({width:h.width,prevWidth:V,height:h.height,prevHeight:U,invertX:S,invertY:m}),te={...h,direction:re};if((($=n.shouldResize)==null?void 0:$.call(n,N,te))===!1)return;t("resize",{event:N,params:te}),o.nodesChange(O)}}).on("end",N=>{if(n.nodeId){const $={id:n.nodeId,type:"dimensions",resizing:!1};t("resizeEnd",{event:N,params:h}),o.nodesChange([$])}});w.call(k),b(()=>{w.on(".drag",null)})}),(b,w)=>(se(),he("div",{ref_key:"resizeControlRef",ref:r,class:Xe(["vue-flow__resize-control nodrag",[...d.value,b.variant]]),style:Ie(p.value)},[ze(b.$slots,"default")],6))}}),Yf={name:"NodeResizer",compatConfig:{MODE:3},inheritAttrs:!1},lo=Ee({...Yf,props:{nodeId:{},color:{},handleClassName:{},handleStyle:{},lineClassName:{},lineStyle:{},isVisible:{type:Boolean,default:!0},minWidth:{},minHeight:{},maxWidth:{},maxHeight:{},shouldResize:{},keepAspectRatio:{type:[Boolean,Number]}},emits:["resizeStart","resize","resizeEnd"],setup(e,{emit:t}){const n=e,{findNode:i,emits:s}=we(),a=["top-left","top-right","bottom-left","bottom-right"],o=["top","right","bottom","left"],l=gt(Pi,null),r=me(()=>typeof n.nodeId=="string"?n.nodeId:l),u=oe(()=>i(r.value));return ke([()=>n.minWidth,()=>n.minHeight,()=>n.maxWidth,()=>n.maxHeight,()=>{var h;return!!((h=u.value)!=null&&h.dimensions.width)&&!!u.value.dimensions.height}],([h,c,d,p,b])=>{const w=u.value;if(w&&b){const C={id:w.id,type:"dimensions",updateStyle:!0,dimensions:{width:w.dimensions.width,height:w.dimensions.height}};h&&w.dimensions.width<h&&(C.dimensions.width=h),c&&w.dimensions.height<c&&(C.dimensions.height=c),d&&w.dimensions.width>d&&(C.dimensions.width=d),p&&w.dimensions.height>p&&(C.dimensions.height=p),(C.dimensions.width!==w.dimensions.width||C.dimensions.height!==w.dimensions.height)&&s.nodesChange([C])}},{flush:"post",immediate:!0}),(h,c)=>h.isVisible?(se(),he(De,{key:0},[(se(),he(De,null,Vt(o,d=>fe(Ds,{key:d,class:Xe(h.lineClassName),style:Ie(h.lineStyle),"node-id":r.value,position:d,variant:I(At).Line,"keep-aspect-ratio":h.keepAspectRatio,color:h.color,"min-width":h.minWidth,"min-height":h.minHeight,"max-width":h.maxWidth,"max-height":h.maxHeight,"should-resize":h.shouldResize,onResizeStart:c[0]||(c[0]=p=>t("resizeStart",p)),onResize:c[1]||(c[1]=p=>t("resize",p)),onResizeEnd:c[2]||(c[2]=p=>t("resizeEnd",p))},null,8,["class","style","node-id","position","variant","keep-aspect-ratio","color","min-width","min-height","max-width","max-height","should-resize"])),64)),(se(),he(De,null,Vt(a,d=>fe(Ds,{key:d,class:Xe(h.handleClassName),style:Ie(h.handleStyle),"node-id":r.value,position:d,color:h.color,"min-width":h.minWidth,"min-height":h.minHeight,"max-width":h.maxWidth,"max-height":h.maxHeight,"should-resize":h.shouldResize,"keep-aspect-ratio":h.keepAspectRatio,onResizeStart:c[3]||(c[3]=p=>t("resizeStart",p)),onResize:c[4]||(c[4]=p=>t("resize",p)),onResizeEnd:c[5]||(c[5]=p=>t("resizeEnd",p))},null,8,["class","style","node-id","position","color","min-width","min-height","max-width","max-height","should-resize","keep-aspect-ratio"])),64))],64)):Se("",!0)}}),Xf={class:"node"},Gf=Ee({__name:"BorderNode",props:{data:{type:Object,default:()=>({})},selected:Boolean},setup(e){return(t,n)=>(se(),he("div",Xf,[fe(I(lo),{color:"red",handleStyle:{width:"8px",height:"8px"},"is-visible":e.selected,"min-width":40,"min-height":40},null,8,["is-visible"]),fe(I(_e),{id:"source-left",type:"source",position:I(q).Left,style:{background:"#25599f"}},null,8,["position"]),fe(I(_e),{id:"source-right",type:"source",position:I(q).Right,style:{background:"#25599f"}},null,8,["position"]),fe(I(_e),{id:"source-top",type:"source",position:I(q).Top,style:{background:"#25599f"}},null,8,["position"]),fe(I(_e),{id:"source-bottom",type:"source",position:I(q).Bottom,style:{background:"#25599f"}},null,8,["position"]),fe(I(_e),{id:"target-left",type:"target",position:I(q).Left,style:{background:"#25599f"}},null,8,["position"]),fe(I(_e),{id:"target-right",type:"target",position:I(q).Right,style:{background:"#25599f"}},null,8,["position"]),fe(I(_e),{id:"target-top",type:"target",position:I(q).Top,style:{background:"#25599f"}},null,8,["position"]),fe(I(_e),{id:"target-bottom",type:"target",position:I(q).Bottom,style:{background:"#25599f"}},null,8,["position"]),ve("span",null,Ht(e.data.label),1)]))}}),Uf=qs(Gf,[["__scopeId","data-v-c63c44f0"]]),Wf={class:"node"},Zf=Ee({__name:"TextNode",props:{data:{type:Object,default:()=>({})},selected:Boolean},setup(e){return(t,n)=>(se(),he("div",Wf,[fe(I(lo),{color:"red",handleStyle:{width:"8px",height:"8px"},"is-visible":e.selected,"min-width":40,"min-height":40},null,8,["is-visible"]),fe(I(_e),{id:"source-left",type:"source",position:I(q).Left,style:{background:"#25599f"}},null,8,["position"]),fe(I(_e),{id:"source-right",type:"source",position:I(q).Right,style:{background:"#25599f"}},null,8,["position"]),fe(I(_e),{id:"source-top",type:"source",position:I(q).Top,style:{background:"#25599f"}},null,8,["position"]),fe(I(_e),{id:"source-bottom",type:"source",position:I(q).Bottom,style:{background:"#25599f"}},null,8,["position"]),fe(I(_e),{id:"target-left",type:"target",position:I(q).Left,style:{background:"#25599f"}},null,8,["position"]),fe(I(_e),{id:"target-right",type:"target",position:I(q).Right,style:{background:"#25599f"}},null,8,["position"]),fe(I(_e),{id:"target-top",type:"target",position:I(q).Top,style:{background:"#25599f"}},null,8,["position"]),fe(I(_e),{id:"target-bottom",type:"target",position:I(q).Bottom,style:{background:"#25599f"}},null,8,["position"]),ve("span",null,Ht(e.data.label),1)]))}}),Kf=qs(Zf,[["__scopeId","data-v-5dec1edd"]]),Jf=["d","stroke","stroke-width"],Qf=Ee({__name:"SolidEdge",props:{id:String,sourceX:Number,sourceY:Number,targetX:Number,targetY:Number,data:Object},setup(e){const t=e,n=ge(""),i=()=>{n.value=Yn(t)[0]};return Ge(i),ke([()=>t.sourceX,()=>t.sourceY,()=>t.targetX,()=>t.targetY],()=>{i()}),(s,a)=>{var o,l;return se(),he("path",{d:n.value,stroke:((o=e.data)==null?void 0:o.color)||"#25599f","stroke-width":((l=e.data)==null?void 0:l.width)||2,fill:"none"},null,8,Jf)}}}),jf=["d","stroke","stroke-width","stroke-dasharray"],eg=Ee({__name:"DashedEdge",props:{id:String,sourceX:Number,sourceY:Number,targetX:Number,targetY:Number,data:Object},setup(e){const t=e,n=ge(""),i=()=>{n.value=Yn(t)[0]};return Ge(i),ke([()=>t.sourceX,()=>t.sourceY,()=>t.targetX,()=>t.targetY],i),(s,a)=>{var o,l,r;return se(),he("path",{d:n.value,stroke:((o=e.data)==null?void 0:o.color)||"#25599f","stroke-width":((l=e.data)==null?void 0:l.width)||2,"stroke-dasharray":((r=e.data)==null?void 0:r.dashedStyle)||"5 5",fill:"none"},null,8,jf)}}});function tg(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),i=n.createElement("base"),s=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(s),t&&(i.href=t),s.href=e,s.href}const ng=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function st(e){const t=[];for(let n=0,i=e.length;n<i;n++)t.push(e[n]);return t}let Et=null;function ro(e={}){return Et||(e.includeStyleProperties?(Et=e.includeStyleProperties,Et):(Et=st(window.getComputedStyle(document.documentElement)),Et))}function Nn(e,t){const i=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return i?parseFloat(i.replace("px","")):0}function ig(e){const t=Nn(e,"border-left-width"),n=Nn(e,"border-right-width");return e.clientWidth+t+n}function sg(e){const t=Nn(e,"border-top-width"),n=Nn(e,"border-bottom-width");return e.clientHeight+t+n}function uo(e,t={}){const n=t.width||ig(e),i=t.height||sg(e);return{width:n,height:i}}function ag(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Ae=16384;function og(e){(e.width>Ae||e.height>Ae)&&(e.width>Ae&&e.height>Ae?e.width>e.height?(e.height*=Ae/e.width,e.width=Ae):(e.width*=Ae/e.height,e.height=Ae):e.width>Ae?(e.height*=Ae/e.width,e.width=Ae):(e.width*=Ae/e.height,e.height=Ae))}function An(e){return new Promise((t,n)=>{const i=new Image;i.onload=()=>{i.decode().then(()=>{requestAnimationFrame(()=>t(i))})},i.onerror=n,i.crossOrigin="anonymous",i.decoding="async",i.src=e})}async function lg(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function rg(e,t,n){const i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return s.setAttribute("width",`${t}`),s.setAttribute("height",`${n}`),s.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),s.appendChild(a),a.appendChild(e),lg(s)}const Ne=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Ne(n,t)};function ug(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function hg(e,t){return ro(t).map(n=>{const i=e.getPropertyValue(n),s=e.getPropertyPriority(n);return`${n}: ${i}${s?" !important":""};`}).join(" ")}function cg(e,t,n,i){const s=`.${e}:${t}`,a=n.cssText?ug(n):hg(n,i);return document.createTextNode(`${s}{${a}}`)}function $s(e,t,n,i){const s=window.getComputedStyle(e,n),a=s.getPropertyValue("content");if(a===""||a==="none")return;const o=ng();try{t.className=`${t.className} ${o}`}catch{return}const l=document.createElement("style");l.appendChild(cg(o,n,s,i)),t.appendChild(l)}function dg(e,t,n){$s(e,t,":before",n),$s(e,t,":after",n)}const Ms="application/font-woff",Is="image/jpeg",pg={woff:Ms,woff2:Ms,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Is,jpeg:Is,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function fg(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Oi(e){const t=fg(e).toLowerCase();return pg[t]||""}function gg(e){return e.split(/,/)[1]}function _i(e){return e.search(/^(data:)/)!==-1}function kg(e,t){return`data:${t};base64,${e}`}async function ho(e,t,n){const i=await fetch(e,t);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const s=await i.blob();return new Promise((a,o)=>{const l=new FileReader;l.onerror=o,l.onloadend=()=>{try{a(n({res:i,result:l.result}))}catch(r){o(r)}},l.readAsDataURL(s)})}const ai={};function Eg(e,t,n){let i=e.replace(/\?.*/,"");return n&&(i=e),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),t?`[${t}]${i}`:i}async function Vi(e,t,n){const i=Eg(e,t,n.includeQueryParams);if(ai[i]!=null)return ai[i];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let s;try{const a=await ho(e,n.fetchRequestInit,({res:o,result:l})=>(t||(t=o.headers.get("Content-Type")||""),gg(l)));s=kg(a,t)}catch(a){s=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;a&&(o=typeof a=="string"?a:a.message),o&&console.warn(o)}return ai[i]=s,s}async function yg(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):An(t)}async function vg(e,t){if(e.currentSrc){const a=document.createElement("canvas"),o=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,o==null||o.drawImage(e,0,0,a.width,a.height);const l=a.toDataURL();return An(l)}const n=e.poster,i=Oi(n),s=await Vi(n,i,t);return An(s)}async function mg(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await Xn(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function wg(e,t){return Ne(e,HTMLCanvasElement)?yg(e):Ne(e,HTMLVideoElement)?vg(e,t):Ne(e,HTMLIFrameElement)?mg(e,t):e.cloneNode(co(e))}const Fg=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",co=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function Cg(e,t,n){var i,s;if(co(t))return t;let a=[];return Fg(e)&&e.assignedNodes?a=st(e.assignedNodes()):Ne(e,HTMLIFrameElement)&&(!((i=e.contentDocument)===null||i===void 0)&&i.body)?a=st(e.contentDocument.body.childNodes):a=st(((s=e.shadowRoot)!==null&&s!==void 0?s:e).childNodes),a.length===0||Ne(e,HTMLVideoElement)||await a.reduce((o,l)=>o.then(()=>Xn(l,n)).then(r=>{r&&t.appendChild(r)}),Promise.resolve()),t}function _g(e,t,n){const i=t.style;if(!i)return;const s=window.getComputedStyle(e);s.cssText?(i.cssText=s.cssText,i.transformOrigin=s.transformOrigin):ro(n).forEach(a=>{let o=s.getPropertyValue(a);a==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),Ne(e,HTMLIFrameElement)&&a==="display"&&o==="inline"&&(o="block"),a==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),i.setProperty(a,o,s.getPropertyPriority(a))})}function bg(e,t){Ne(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Ne(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function xg(e,t){if(Ne(e,HTMLSelectElement)){const n=t,i=Array.from(n.children).find(s=>e.value===s.getAttribute("value"));i&&i.setAttribute("selected","")}}function Sg(e,t,n){return Ne(t,Element)&&(_g(e,t,n),dg(e,t,n),bg(e,t),xg(e,t)),t}async function Bg(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const i={};for(let a=0;a<n.length;a++){const l=n[a].getAttribute("xlink:href");if(l){const r=e.querySelector(l),u=document.querySelector(l);!r&&u&&!i[l]&&(i[l]=await Xn(u,t,!0))}}const s=Object.values(i);if(s.length){const a="http://www.w3.org/1999/xhtml",o=document.createElementNS(a,"svg");o.setAttribute("xmlns",a),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const l=document.createElementNS(a,"defs");o.appendChild(l);for(let r=0;r<s.length;r++)l.appendChild(s[r]);e.appendChild(o)}return e}async function Xn(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(i=>wg(i,t)).then(i=>Cg(e,i,t)).then(i=>Sg(e,i,t)).then(i=>Bg(i,t))}const po=/url\((['"]?)([^'"]+?)\1\)/g,Ng=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Ag=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Dg(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function $g(e){const t=[];return e.replace(po,(n,i,s)=>(t.push(s),n)),t.filter(n=>!_i(n))}async function Mg(e,t,n,i,s){try{const a=n?tg(t,n):t,o=Oi(t);let l;return s||(l=await Vi(a,o,i)),e.replace(Dg(t),`$1${l}$3`)}catch{}return e}function Ig(e,{preferredFontFormat:t}){return t?e.replace(Ag,n=>{for(;;){const[i,,s]=Ng.exec(n)||[];if(!s)return"";if(s===t)return`src: ${i};`}}):e}function fo(e){return e.search(po)!==-1}async function go(e,t,n){if(!fo(e))return e;const i=Ig(e,n);return $g(i).reduce((a,o)=>a.then(l=>Mg(l,o,t,n)),Promise.resolve(i))}async function yt(e,t,n){var i;const s=(i=t.style)===null||i===void 0?void 0:i.getPropertyValue(e);if(s){const a=await go(s,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function Tg(e,t){await yt("background",e,t)||await yt("background-image",e,t),await yt("mask",e,t)||await yt("-webkit-mask",e,t)||await yt("mask-image",e,t)||await yt("-webkit-mask-image",e,t)}async function Pg(e,t){const n=Ne(e,HTMLImageElement);if(!(n&&!_i(e.src))&&!(Ne(e,SVGImageElement)&&!_i(e.href.baseVal)))return;const i=n?e.src:e.href.baseVal,s=await Vi(i,Oi(i),t);await new Promise((a,o)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...r)=>{try{a(t.onImageErrorHandler(...r))}catch(u){o(u)}}:o;const l=e;l.decode&&(l.decode=a),l.loading==="lazy"&&(l.loading="eager"),n?(e.srcset="",e.src=s):e.href.baseVal=s})}async function Rg(e,t){const i=st(e.childNodes).map(s=>ko(s,t));await Promise.all(i).then(()=>e)}async function ko(e,t){Ne(e,Element)&&(await Tg(e,t),await Pg(e,t),await Rg(e,t))}function zg(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const i=t.style;return i!=null&&Object.keys(i).forEach(s=>{n[s]=i[s]}),e}const Ts={};async function Ps(e){let t=Ts[e];if(t!=null)return t;const i=await(await fetch(e)).text();return t={url:e,cssText:i},Ts[e]=t,t}async function Rs(e,t){let n=e.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async o=>{let l=o.replace(i,"$1");return l.startsWith("https://")||(l=new URL(l,e.url).href),ho(l,t.fetchRequestInit,({result:r})=>(n=n.replace(o,`url(${r})`),[o,r]))});return Promise.all(a).then(()=>n)}function zs(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let i=e.replace(n,"");const s=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const r=s.exec(i);if(r===null)break;t.push(r[0])}i=i.replace(s,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",l=new RegExp(o,"gi");for(;;){let r=a.exec(i);if(r===null){if(r=l.exec(i),r===null)break;a.lastIndex=l.lastIndex}else l.lastIndex=a.lastIndex;t.push(r[0])}return t}async function Og(e,t){const n=[],i=[];return e.forEach(s=>{if("cssRules"in s)try{st(s.cssRules||[]).forEach((a,o)=>{if(a.type===CSSRule.IMPORT_RULE){let l=o+1;const r=a.href,u=Ps(r).then(h=>Rs(h,t)).then(h=>zs(h).forEach(c=>{try{s.insertRule(c,c.startsWith("@import")?l+=1:s.cssRules.length)}catch(d){console.error("Error inserting rule from remote css",{rule:c,error:d})}})).catch(h=>{console.error("Error loading remote css",h.toString())});i.push(u)}})}catch(a){const o=e.find(l=>l.href==null)||document.styleSheets[0];s.href!=null&&i.push(Ps(s.href).then(l=>Rs(l,t)).then(l=>zs(l).forEach(r=>{o.insertRule(r,o.cssRules.length)})).catch(l=>{console.error("Error loading remote stylesheet",l)})),console.error("Error inlining remote css file",a)}}),Promise.all(i).then(()=>(e.forEach(s=>{if("cssRules"in s)try{st(s.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${s.href}`,a)}}),n))}function Vg(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>fo(t.style.getPropertyValue("src")))}async function Hg(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=st(e.ownerDocument.styleSheets),i=await Og(n,t);return Vg(i)}function Eo(e){return e.trim().replace(/["']/g,"")}function Lg(e){const t=new Set;function n(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(a=>{t.add(Eo(a))}),Array.from(i.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function qg(e,t){const n=await Hg(e,t),i=Lg(e);return(await Promise.all(n.filter(a=>i.has(Eo(a.style.fontFamily))).map(a=>{const o=a.parentStyleSheet?a.parentStyleSheet.href:null;return go(a.cssText,o,t)}))).join(`
`)}async function Yg(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await qg(e,t);if(n){const i=document.createElement("style"),s=document.createTextNode(n);i.appendChild(s),e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)}}async function Xg(e,t={}){const{width:n,height:i}=uo(e,t),s=await Xn(e,t,!0);return await Yg(s,t),await ko(s,t),zg(s,t),await rg(s,n,i)}async function yo(e,t={}){const{width:n,height:i}=uo(e,t),s=await Xg(e,t),a=await An(s),o=document.createElement("canvas"),l=o.getContext("2d"),r=t.pixelRatio||ag(),u=t.canvasWidth||n,h=t.canvasHeight||i;return o.width=u*r,o.height=h*r,t.skipAutoScale||og(o),o.style.width=`${u}`,o.style.height=`${h}`,t.backgroundColor&&(l.fillStyle=t.backgroundColor,l.fillRect(0,0,o.width,o.height)),l.drawImage(a,0,0,o.width,o.height),o}async function Gg(e,t={}){return(await yo(e,t)).toDataURL()}async function Ug(e,t={}){return(await yo(e,t)).toDataURL("image/jpeg",t.quality||1)}function Wg(){const e=ge(""),t=ge("png"),n=ge();async function i(l,r={}){let u;const h=r.fileName??`vue-flow-screenshot-${Date.now()}`;switch(console.log(r.type),r.type){case"jpeg":u=await s(l,r);break;case"png":u=await a(l,r);break;default:u=await a(l,r);break}return r.shouldDownload&&h!==""&&o(h),u}function s(l,r={quality:.95}){return n.value=null,Ug(l,r).then(u=>(e.value=u,t.value="jpeg",u)).catch(u=>{throw u.value=u,new Error(u)})}function a(l,r={quality:.95}){return n.value=null,console.log(l,r),Gg(l,r).then(u=>(e.value=u,t.value="png",u)).catch(u=>{throw u.value=u,new Error(u)})}function o(l){const r=document.createElement("a");r.download=`${l}.${t.value}`,r.href=e.value,r.click()}return{capture:i,download:o,dataUrl:e,error:n}}const Zg={class:"flow"},Kg={class:"flow-panel"},Jg={class:"flow-options"},Qg={key:0,class:"flow-settings"},jg={style:{padding:"10px"}},ek={key:0,style:{display:"flex","align-items":"center"}},tk=Ee({__name:"TeaFlow",setup(e){const{vueFlowRef:t,addNodes:n,addEdges:i,removeNodes:s,removeEdges:a,getSelectedNodes:o,removeSelectedNodes:l,screenToFlowCoordinate:r,dimensions:u,fitView:h}=we("vueFlowId");Wg();const c={border:Ke(Uf),text:Ke(Kf)},d={solid:Ke(Qf),dashed:Ke(eg)},p=ge([]),b=ge([]),w=ge("solid"),C=ge(),x=ge(),S=ge(),m=()=>{$()},k=O=>{Me(()=>{if(t.value){const B=r({x:u.value.width/2,y:u.value.height/2}),F=`${p.value.length===0?1:Number(p.value[p.value.length-1].id)+1}`;n({id:F,type:O,data:{label:""},position:B})}})},N=O=>{Me(()=>{i({type:w.value,source:O.target,sourceHandle:O.targetHandle,target:O.source,targetHandle:O.sourceHandle})})},$=()=>{x.value=void 0,S.value=void 0},T=async O=>{$(),x.value=O.node,await Me(),C.value.focus()},P=O=>{$(),S.value=O.edge},G=()=>{x.value&&(s(x.value.id,!0,!1),$()),S.value&&(a(S.value.id),$())};return(O,B)=>{const F=Lt("el-input"),X=Lt("el-button");return se(),he("div",Zg,[ve("div",Kg,[ve("div",Jg,[B[7]||(B[7]=ve("div",{style:{"font-weight":"700"}},"节点",-1)),ve("div",{class:"flow-options-item",onClick:B[0]||(B[0]=E=>k("border"))},"矩形"),ve("div",{class:"flow-options-item",onClick:B[1]||(B[1]=E=>k("text"))},"文本"),B[8]||(B[8]=ve("div",{style:{"font-weight":"700"}},"连线",-1)),ve("div",{class:Xe(["flow-options-item",{"flow-options-item-active":w.value==="solid"}]),onClick:B[2]||(B[2]=E=>w.value="solid")}," 实线 ",2),ve("div",{class:Xe(["flow-options-item",{"flow-options-item-active":w.value==="dashed"}]),onClick:B[3]||(B[3]=E=>w.value="dashed")}," 虚线 ",2)]),x.value||S.value?(se(),he("div",Qg,[ve("div",jg,[x.value?(se(),he("div",ek,[B[9]||(B[9]=ve("div",{style:{"flex-shrink":"0"}},"文本：",-1)),fe(F,{ref_key:"nodeEditingRef",ref:C,modelValue:x.value.data.label,"onUpdate:modelValue":B[4]||(B[4]=E=>x.value.data.label=E)},null,8,["modelValue"])])):Se("",!0),fe(X,{style:{"margin-top":"10px"},type:"danger",onClick:G},{default:_t(()=>B[10]||(B[10]=[vt(" 删除 ")])),_:1,__:[10]})])])):Se("",!0)]),fe(I(Rd),{id:"vueFlowId",class:"flow-container",nodes:p.value,"onUpdate:nodes":B[5]||(B[5]=E=>p.value=E),edges:b.value,"onUpdate:edges":B[6]||(B[6]=E=>b.value=E),"node-types":c,"edge-types":d,onPaneClick:m,onConnect:N,onNodeClick:T,onEdgeClick:P},{default:_t(()=>[fe(I(Yd),{variant:"lines"})]),_:1},8,["nodes","edges"])])}}}),nk={style:{margin:"10px 0"}},ak=JSON.parse('{"title":"Vue Flow流程图","description":"","frontmatter":{},"headers":[],"relativePath":"demo/tea-flow.md","filePath":"demo/tea-flow.md"}'),ik={name:"demo/tea-flow.md"},ok=Ee({...ik,setup(e){return(t,n)=>{const i=Lt("el-tag");return se(),he("div",null,[n[2]||(n[2]=ve("h1",{id:"vue-flow流程图",tabindex:"-1"},[vt("Vue Flow流程图 "),ve("a",{class:"header-anchor",href:"#vue-flow流程图","aria-label":'Permalink to "Vue Flow流程图"'},"​")],-1)),ve("div",nk,[fe(i,{type:"danger"},{default:_t(()=>n[0]||(n[0]=[vt("提示")])),_:1,__:[0]}),n[1]||(n[1]=vt(" 非组件，请安装相应依赖后，直接复制粘贴代码并调整修改部分代码使用 "))]),n[3]||(n[3]=ve("h2",{id:"示例",tabindex:"-1"},[vt("示例 "),ve("a",{class:"header-anchor",href:"#示例","aria-label":'Permalink to "示例"'},"​")],-1)),fe(tk),n[4]||(n[4]=Mo(`<h2 id="源代码" tabindex="-1">源代码 <a class="header-anchor" href="#源代码" aria-label="Permalink to &quot;源代码&quot;">​</a></h2><p>仅TeaFlow，完整代码请下载项目查看</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flow-panel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flow-options&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">font-weight</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">700</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;节点&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flow-options-item&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onNodeAdd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;border&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;矩形&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flow-options-item&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onNodeAdd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;text&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;文本&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">font-weight</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">700</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;连线&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flow-options-item&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">connectType </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;solid&#39;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;flow-options-item-active&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: connectType </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;solid&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          实线</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flow-options-item&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">connectType </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;dashed&#39;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;flow-options-item-active&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: connectType </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;dashed&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          虚线</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flow-settings&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> v-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nodeEditing </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> edgeEditing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">padding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">display</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">flex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">align-items</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">center</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> v-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nodeEditing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">flex-shrink</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;文本：&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">el-input</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">              ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nodeEditingRef&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">              v-model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nodeEditing.data.label</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">el-input</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">el-button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">margin-top</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;danger&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">onDelete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            删除</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">el-button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">VueFlow</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vueFlowId&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flow-container&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      v-model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nodes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nodes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      v-model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">edges</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">edges</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node-types</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nodeTypes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">edge-types</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">edgeTypes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pane-click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">onPaneClick</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">connect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">onEdgeAdd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node-click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">onNodeClick</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">edge-click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">onEdgeClick</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Background</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> variant</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;lines&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">VueFlow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { nextTick, ref, markRaw } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useVueFlow, VueFlow } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@vue-flow/core&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Background } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@vue-flow/background&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Node,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Edge,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  NodeComponent,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  EdgeComponent,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Connection,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  NodeMouseEvent,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  EdgeMouseEvent,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@vue-flow/core&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BorderNode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./nodes/BorderNode.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TextNode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./nodes/TextNode.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SolidEdge </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./edges/SolidEdge.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DashedEdge </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./edges/DashedEdge.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useScreenshot } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./useScreenshot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  vueFlowRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  addNodes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  addEdges</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  removeNodes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  removeEdges</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  getSelectedNodes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  removeSelectedNodes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  screenToFlowCoordinate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  dimensions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  fitView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useVueFlow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vueFlowId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">capture</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useScreenshot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nodeTypes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NodeComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  border: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">markRaw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(BorderNode) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NodeComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  text: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">markRaw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(TextNode) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NodeComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> edgeTypes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EdgeComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  solid: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">markRaw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(SolidEdge) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EdgeComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  dashed: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">markRaw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(DashedEdge) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EdgeComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nodes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Node</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]&gt;([]);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> edges</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Edge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]&gt;([]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> connectType</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;solid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nodeEditingRef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nodeEditing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Node</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> edgeEditing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Edge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 点击面板</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onPaneClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  clearClick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 添加节点</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onNodeAdd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  nextTick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (vueFlowRef.value) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> position</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> screenToFlowCoordinate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        x: dimensions.value.width </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        y: dimensions.value.height </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nodeId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nodes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">value</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Number</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nodes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">value</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nodes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">value</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">].</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      addNodes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        id: nodeId,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        type: type,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        data: { label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        position,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 添加边</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onEdgeAdd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">connectionEvent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Connection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  nextTick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    addEdges</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      type: connectType.value,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      source: connectionEvent.target,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      sourceHandle: connectionEvent.targetHandle,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      target: connectionEvent.source,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      targetHandle: connectionEvent.sourceHandle,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 清除点击</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> clearClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  nodeEditing.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  edgeEditing.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 点击节点</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onNodeClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">nodeMouseEvent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NodeMouseEvent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  clearClick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  nodeEditing.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nodeMouseEvent.node;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> nextTick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  nodeEditingRef.value.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">focus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 点击边</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onEdgeClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">edgeMouseEvent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EdgeMouseEvent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  clearClick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  edgeEditing.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> edgeMouseEvent.edge;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 删除元素</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onDelete</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (nodeEditing.value) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    removeNodes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(nodeEditing.value.id, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    clearClick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (edgeEditing.value) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    removeEdges</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(edgeEditing.value.id);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    clearClick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 导出图片</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onExportImg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vueFlowRef.value) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">warn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;VueFlow element not found&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  clearClick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  removeSelectedNodes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(getSelectedNodes.value);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  fitView</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  capture</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vueFlowRef.value, { shouldDownload: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@vue-flow/core/dist/style.css&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@vue-flow/core/dist/theme-default.css&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.flow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  position</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">relative</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  box-shadow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 12</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> rgba</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.flow-panel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  display</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">flex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  position</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">absolute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  top</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  left</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  z-index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  border-right</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> solid</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> rgba</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  box-shadow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 12</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> rgba</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.flow-options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  display</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">flex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  flex-direction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">column</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  gap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  max-height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">90</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  background</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#fff</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  padding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  overflow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">scroll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  border-right</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> solid</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> rgba</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.flow-options-item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  display</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">flex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  justify-content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">center</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  align-items</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">center</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  cursor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pointer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#25599f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  border</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> #25599f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> solid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.flow-options-item-active</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">white</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  background</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#25599f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.flow-settings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  background</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#fff</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  overflow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">hidden</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.flow-container</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  position</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">absolute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">::-webkit-scrollbar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  display</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">none</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div>`,3))])}}});export{ak as __pageData,ok as default};
